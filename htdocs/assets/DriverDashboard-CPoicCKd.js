var _=(E,s,v)=>new Promise((F,q)=>{var N=o=>{try{M(v.next(o))}catch(b){q(b)}},g=o=>{try{M(v.throw(o))}catch(b){q(b)}},M=o=>o.done?F(o.value):Promise.resolve(o.value).then(N,g);M((v=v.apply(E,s)).next())});import{j as e}from"./ui-vendor-DMUr7mTx.js";import{r as me}from"./react-vendor-BvqlMsL5.js";import{u as xe,l as oe,s as h,B as p,C as r,d as c,a as u,b as j,h as he,i as ue,j as C,k as S,c as y,e as m}from"./index-ZwIgorfy.js";import{u as L}from"./query-vendor-B2F_wWlc.js";import{N as H}from"./router-vendor-CEyBJ8vK.js";import{d as je,j as z,T,p as fe,k as Ne,bf as ve,az as pe,g as W,a as A,m as ye,M as ge,W as U,l as G,A as J,J as be}from"./icons-vendor-b0I7fGSL.js";import{f as x,a as $}from"./utils-vendor-B2FlkASS.js";import"./supabase-vendor-B984m0TI.js";import"./ui-components-7w1-MJre.js";const Ae=()=>{const{user:E,profile:s,loading:v}=xe();oe();const[F,q]=me.useState("overview");if((s==null?void 0:s.role)!=="driver")return e.jsx(H,{to:"/dashboard",replace:!0});const{data:N={totalRoutes:0,completedRoutes:0,totalHours:0,totalMiles:0,fuelEfficiency:0,safetyScore:0,onTimeDelivery:0,customerRating:0},isLoading:g,error:M}=L({queryKey:["driver-stats",s==null?void 0:s.id],queryFn:()=>_(void 0,null,function*(){if(!(s!=null&&s.id))throw new Error("No driver ID found");const{data:t}=yield h.from("routes").select("*").eq("driver_id",s.id),{data:a}=yield h.from("routes").select("*").eq("driver_id",s.id).eq("status","completed"),{data:n}=yield h.from("time_entries").select("total_hours").eq("driver_id",s.id),{data:d}=yield h.from("fuel_purchases").select("*").eq("driver_id",s.id),l=(t==null?void 0:t.length)||0,I=(a==null?void 0:a.length)||0,le=(n==null?void 0:n.reduce((f,k)=>f+(k.total_hours||0),0))||0,ie=(d==null?void 0:d.length)>0?8.2:0;let K=100;try{const{data:f}=yield h.from("incidents").select("severity").eq("driver_id",s.id);if(f&&f.length>0){const k=f.filter(D=>D.severity==="critical").length,ce=f.filter(D=>D.severity==="high").length,de=f.filter(D=>D.severity==="medium").length;K=Math.max(0,100-k*20-ce*10-de*5)}}catch(f){console.warn("Could not fetch incidents for safety score calculation")}let O=100;a&&a.length>0&&(O=100);const ne=0,re=(t==null?void 0:t.reduce((f,k)=>f+(k.distance_km||0),0))||0;return{totalRoutes:l,completedRoutes:I,totalHours:le,totalMiles:Math.round(re*.621371),fuelEfficiency:ie,safetyScore:K,onTimeDelivery:O,customerRating:ne}}),enabled:!!(s!=null&&s.id)}),{data:o=[],isLoading:b,error:Q}=L({queryKey:["driver-schedule",s==null?void 0:s.id,x(new Date,"yyyy-MM-dd")],queryFn:()=>_(void 0,null,function*(){if(!(s!=null&&s.id))throw new Error("No driver ID found");const t=x(new Date,"yyyy-MM-dd"),{data:a,error:n}=yield h.from("routes").select(`
          id,
          name,
          start_time,
          end_time,
          destination,
          status,
          priority,
          created_at
        `).eq("driver_id",s.id).gte("start_time",t).lt("start_time",x($(new Date,1),"yyyy-MM-dd")).order("start_time",{ascending:!0});return n?(console.error("Error fetching schedule:",n),[]):(a==null?void 0:a.map(d=>({id:d.id,time:x(new Date(d.start_time),"HH:mm"),route:d.name||"Unnamed Route",destination:d.destination||"Unknown Destination",status:d.status||"upcoming",priority:d.priority||"medium"})))||[]}),enabled:!!(s!=null&&s.id)}),{data:i=null,isLoading:R,error:V}=L({queryKey:["driver-vehicle",s==null?void 0:s.id],queryFn:()=>_(void 0,null,function*(){if(!(s!=null&&s.id))throw new Error("No driver ID found");const{data:t}=yield h.from("driver_vehicle_assignments").select("vehicle_id").eq("driver_id",s.id).eq("status","active").maybeSingle();if(!(t!=null&&t.vehicle_id))return{id:"default",vehicle_number:"No Assignment",license_plate:"N/A",make:"No Vehicle",model:"Assigned",year:0,fuel_level:0,last_maintenance:x(new Date,"yyyy-MM-dd"),next_maintenance:x($(new Date,30),"yyyy-MM-dd"),status:"unavailable"};const{data:a,error:n}=yield h.from("vehicles").select(`
          id,
          vehicle_number,
          license_plate,
          make,
          model,
          year,
          fuel_level,
          last_maintenance_date,
          next_maintenance_date,
          status
        `).eq("id",t.vehicle_id).single();return n?(console.error("Error fetching vehicle:",n),null):{id:a.id,vehicle_number:a.vehicle_number||"Unknown",license_plate:a.license_plate||"Unknown",make:a.make||"Unknown",model:a.model||"Unknown",year:a.year||0,fuel_level:a.fuel_level||0,last_maintenance:a.last_maintenance_date||x(new Date,"yyyy-MM-dd"),next_maintenance:a.next_maintenance_date||x($(new Date,30),"yyyy-MM-dd"),status:a.status||"unknown"}}),enabled:!!(s!=null&&s.id)}),{data:X=[],isLoading:Z,error:ee}=L({queryKey:["driver-activity",s==null?void 0:s.id],queryFn:()=>_(void 0,null,function*(){if(!(s!=null&&s.id))throw new Error("No driver ID found");const t=[],{data:a}=yield h.from("time_entries").select("*").eq("driver_id",s.id).order("created_at",{ascending:!1}).limit(5);a==null||a.forEach(l=>{t.push({id:`time-${l.id}`,type:"break_taken",title:l.clock_in?"Clock In":"Clock Out",description:`Time entry at ${x(new Date(l.created_at),"HH:mm")}`,timestamp:l.created_at,status:"info"})});const{data:n}=yield h.from("fuel_purchases").select("*").eq("driver_id",s.id).order("created_at",{ascending:!1}).limit(3);n==null||n.forEach(l=>{t.push({id:`fuel-${l.id}`,type:"fuel_purchase",title:"Fuel Purchase",description:`Added ${l.quantity}L ${l.fuel_type} at ${l.location}`,timestamp:l.created_at,status:"info"})});const{data:d}=yield h.from("vehicle_checks").select("*").eq("driver_id",s.id).order("created_at",{ascending:!1}).limit(3);return d==null||d.forEach(l=>{t.push({id:`check-${l.id}`,type:"maintenance_check",title:"Vehicle Check",description:`${l.check_type} check completed`,timestamp:l.created_at,status:l.status==="passed"||l.overall_status==="completed"?"success":"warning"})}),t.sort((l,I)=>new Date(I.timestamp).getTime()-new Date(l.timestamp).getTime()).slice(0,10)}),enabled:!!(s!=null&&s.id)}),{data:w}=L({queryKey:["driver-current-time",s==null?void 0:s.id],queryFn:()=>_(void 0,null,function*(){if(!(s!=null&&s.id))return null;const t=x(new Date,"yyyy-MM-dd"),{data:a,error:n}=yield h.from("time_entries").select("*").eq("driver_id",s.id).eq("entry_date",t).maybeSingle();return n?(console.error("Error fetching current time entry:",n),null):a}),enabled:!!(s!=null&&s.id)}),se=v||g||b||R||Z,te=M||Q||V||ee;if(v)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"text-lg",children:"Loading..."})});if(!E||!s)return e.jsx(H,{to:"/auth",replace:!0});if(s.role!=="driver")return e.jsx(H,{to:"/dashboard",replace:!0});const B=t=>{switch(t){case"completed":return e.jsx(m,{variant:"default",className:"bg-green-100 text-green-800",children:"Completed"});case"in-progress":return e.jsx(m,{variant:"default",className:"bg-blue-100 text-blue-800",children:"In Progress"});case"upcoming":return e.jsx(m,{variant:"outline",children:"Upcoming"});case"delayed":return e.jsx(m,{variant:"destructive",children:"Delayed"});default:return e.jsx(m,{variant:"outline",children:t})}},P=t=>{switch(t){case"high":return e.jsx(m,{variant:"destructive",className:"text-xs",children:"High"});case"medium":return e.jsx(m,{variant:"default",className:"bg-yellow-100 text-yellow-800 text-xs",children:"Medium"});case"low":return e.jsx(m,{variant:"outline",className:"text-xs",children:"Low"});default:return e.jsx(m,{variant:"outline",className:"text-xs",children:t})}},ae=t=>{switch(t){case"route_completed":return e.jsx(be,{className:"w-4 h-4 text-green-600"});case"fuel_purchase":return e.jsx(G,{className:"w-4 h-4 text-blue-600"});case"maintenance_check":return e.jsx(U,{className:"w-4 h-4 text-orange-600"});case"incident_reported":return e.jsx(T,{className:"w-4 h-4 text-red-600"});case"break_taken":return e.jsx(z,{className:"w-4 h-4 text-purple-600"});default:return e.jsx(J,{className:"w-4 h-4 text-gray-600"})}},Y=t=>{switch(t){case"available":return e.jsx(m,{variant:"default",className:"bg-green-100 text-green-800",children:"Available"});case"in-use":return e.jsx(m,{variant:"default",className:"bg-blue-100 text-blue-800",children:"In Use"});case"maintenance":return e.jsx(m,{variant:"default",className:"bg-yellow-100 text-yellow-800",children:"Maintenance"});case"out-of-service":return e.jsx(m,{variant:"destructive",children:"Out of Service"});default:return e.jsx(m,{variant:"outline",children:t})}};return e.jsxs("div",{className:"space-y-4 p-4",children:[e.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight sm:text-3xl",children:"Driver Dashboard"}),e.jsxs("p",{className:"text-sm text-muted-foreground sm:text-base",children:["Welcome back, ",s.first_name,"! Here's your day at a glance."]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(p,{variant:"outline",size:"sm",className:"text-xs sm:text-sm",children:[e.jsx(je,{className:"w-4 h-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Notifications"}),e.jsx("span",{className:"sm:hidden",children:"Alerts"})]}),e.jsxs(p,{size:"sm",className:"text-xs sm:text-sm",children:[e.jsx(z,{className:"w-4 h-4 mr-1 sm:mr-2"}),w!=null&&w.clock_in&&!(w!=null&&w.clock_out)?"Clock Out":"Clock In"]})]})]}),te&&e.jsx(r,{className:"border-red-200 bg-red-50",children:e.jsxs(c,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-red-800",children:[e.jsx(T,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Some data couldn't be loaded"})]}),e.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Please refresh the page or try again later."})]})}),se&&e.jsx(r,{children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading dashboard data..."})]})})}),e.jsxs("div",{className:"grid gap-3 grid-cols-2 sm:gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(r,{className:"mobile-card",children:[e.jsxs(u,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(j,{className:"text-xs font-medium sm:text-sm",children:"Today's Routes"}),e.jsx(fe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(c,{children:b?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-xl font-bold sm:text-2xl",children:o.length}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.filter(t=>t.status==="completed").length," completed"]})]})})]}),e.jsxs(r,{className:"mobile-card",children:[e.jsxs(u,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(j,{className:"text-xs font-medium sm:text-sm",children:"Safety Score"}),e.jsx(Ne,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(c,{children:g?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-xl font-bold sm:text-2xl",children:[N.safetyScore,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+2% from last week"})]})})]}),e.jsxs(r,{className:"mobile-card",children:[e.jsxs(u,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(j,{className:"text-xs font-medium sm:text-sm",children:"On-Time Delivery"}),e.jsx(ve,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(c,{children:g?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-xl font-bold sm:text-2xl",children:[N.onTimeDelivery,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Excellent performance"})]})})]}),e.jsxs(r,{className:"mobile-card",children:[e.jsxs(u,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(j,{className:"text-xs font-medium sm:text-sm",children:"Customer Rating"}),e.jsx(pe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(c,{children:g?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-xl font-bold sm:text-2xl",children:[N.customerRating,"/5"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Based on 45 reviews"})]})})]})]}),e.jsxs(he,{value:F,onValueChange:q,className:"space-y-4 mobile-tabs",children:[e.jsxs(ue,{className:"grid w-full grid-cols-4 gap-1",children:[e.jsx(C,{value:"overview",className:"text-xs sm:text-sm px-1 sm:px-3 py-2",children:"Overview"}),e.jsx(C,{value:"schedule",className:"text-xs sm:text-sm px-1 sm:px-3 py-2",children:"Schedule"}),e.jsx(C,{value:"vehicle",className:"text-xs sm:text-sm px-1 sm:px-3 py-2",children:"Vehicle"}),e.jsx(C,{value:"activity",className:"text-xs sm:text-sm px-1 sm:px-3 py-2",children:"Activity"})]}),e.jsxs(S,{value:"overview",className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[e.jsxs(r,{className:"mobile-card",children:[e.jsxs(u,{children:[e.jsxs(j,{className:"flex items-center space-x-2",children:[e.jsx(W,{className:"w-5 h-5"}),e.jsx("span",{className:"text-lg sm:text-xl",children:"Today's Schedule"})]}),e.jsx(y,{className:"text-sm",children:"Your routes and tasks for today"})]}),e.jsxs(c,{className:"space-y-3",children:[o.slice(0,3).map(t=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg border",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-sm font-medium",children:t.time}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t.route}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t.destination})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[P(t.priority),B(t.status)]})]},t.id)),e.jsx(p,{variant:"outline",className:"w-full",children:"View Full Schedule"})]})]}),e.jsxs(r,{className:"mobile-card",children:[e.jsxs(u,{children:[e.jsxs(j,{className:"flex items-center space-x-2",children:[e.jsx(A,{className:"w-5 h-5"}),e.jsx("span",{className:"text-lg sm:text-xl",children:"Assigned Vehicle"})]}),e.jsx(y,{className:"text-sm",children:"Current vehicle information"})]}),e.jsx(c,{className:"space-y-4",children:R?e.jsxs("div",{className:"flex items-center justify-center space-x-2 py-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading vehicle information..."})]}):V?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(T,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-red-600",children:"Error loading vehicle"})]}):i?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Vehicle:"}),e.jsxs("span",{className:"text-sm",children:[i.make," ",i.model]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"License Plate:"}),e.jsx("span",{className:"text-sm font-mono",children:i.license_plate})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Fuel Level:"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${i.fuel_level}%`}})}),e.jsxs("span",{className:"text-sm",children:[i.fuel_level,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Status:"}),Y(i.status)]}),e.jsx(p,{variant:"outline",className:"w-full",children:"View Vehicle Details"})]}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx(A,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No vehicle assigned"})]})})]})]}),e.jsxs(r,{className:"mobile-card",children:[e.jsxs(u,{children:[e.jsxs(j,{className:"flex items-center space-x-2",children:[e.jsx(ye,{className:"w-5 h-5"}),e.jsx("span",{className:"text-lg sm:text-xl",children:"Performance Metrics"})]}),e.jsx(y,{className:"text-sm",children:"Your key performance indicators"})]}),e.jsx(c,{children:e.jsxs("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:N.totalRoutes}),e.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Total Routes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-600",children:N.totalHours}),e.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Hours Driven"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-purple-600",children:N.totalMiles.toLocaleString()}),e.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Miles Driven"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-orange-600",children:N.fuelEfficiency}),e.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"MPG Average"})]})]})})]})]}),e.jsx(S,{value:"schedule",className:"space-y-4",children:e.jsxs(r,{className:"mobile-card",children:[e.jsxs(u,{children:[e.jsxs(j,{className:"flex items-center space-x-2",children:[e.jsx(W,{className:"w-5 h-5"}),e.jsx("span",{className:"text-lg sm:text-xl",children:"Today's Schedule"})]}),e.jsx(y,{className:"text-sm",children:"Your complete schedule for today"})]}),e.jsx(c,{children:e.jsx("div",{className:"space-y-3",children:o.map(t=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-3 sm:p-4 rounded-lg border",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3 sm:mb-0",children:[e.jsx("div",{className:"text-base sm:text-lg font-mono font-medium",children:t.time}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-base sm:text-lg",children:t.route}),e.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground flex items-center",children:[e.jsx(ge,{className:"w-3 h-3 mr-1"}),t.destination]})]})]}),e.jsxs("div",{className:"flex items-center justify-between sm:justify-end space-x-2",children:[e.jsxs("div",{className:"flex space-x-1",children:[P(t.priority),B(t.status)]}),e.jsxs(p,{variant:"outline",size:"sm",className:"text-xs sm:text-sm",children:[e.jsx("span",{className:"hidden sm:inline",children:"View Details"}),e.jsx("span",{className:"sm:hidden",children:"Details"})]})]})]},t.id))})})]})}),e.jsx(S,{value:"vehicle",className:"space-y-4",children:R?e.jsx(r,{children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading vehicle information..."})]})})}):V?e.jsx(r,{children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(T,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Vehicle"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Unable to load vehicle information. Please try again."})]})})}):i?e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(r,{children:[e.jsxs(u,{children:[e.jsxs(j,{className:"flex items-center space-x-2",children:[e.jsx(A,{className:"w-5 h-5"}),e.jsx("span",{children:"Vehicle Details"})]}),e.jsx(y,{children:"Complete vehicle information"})]}),e.jsx(c,{className:"space-y-4",children:e.jsxs("div",{className:"grid gap-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Vehicle Number:"}),e.jsx("span",{className:"text-sm",children:i.vehicle_number})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"License Plate:"}),e.jsx("span",{className:"text-sm font-mono",children:i.license_plate})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Make & Model:"}),e.jsxs("span",{className:"text-sm",children:[i.make," ",i.model]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Year:"}),e.jsx("span",{className:"text-sm",children:i.year})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Status:"}),Y(i.status)]})]})})]}),e.jsxs(r,{children:[e.jsxs(u,{children:[e.jsxs(j,{className:"flex items-center space-x-2",children:[e.jsx(U,{className:"w-5 h-5"}),e.jsx("span",{children:"Maintenance Info"})]}),e.jsx(y,{children:"Maintenance schedule and history"})]}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Last Maintenance:"}),e.jsx("span",{className:"text-sm",children:x(new Date(i.last_maintenance),"MMM dd, yyyy")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Next Maintenance:"}),e.jsx("span",{className:"text-sm",children:x(new Date(i.next_maintenance),"MMM dd, yyyy")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Fuel Level:"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${i.fuel_level}%`}})}),e.jsxs("span",{className:"text-sm",children:[i.fuel_level,"%"]})]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(p,{variant:"outline",className:"flex-1",children:[e.jsx(U,{className:"w-4 h-4 mr-2"}),"Report Issue"]}),e.jsxs(p,{variant:"outline",className:"flex-1",children:[e.jsx(G,{className:"w-4 h-4 mr-2"}),"Fuel Log"]})]})]})]})]}):e.jsx(r,{children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(A,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Vehicle Assigned"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"You don't have a vehicle assigned at the moment."})]})})})}),e.jsx(S,{value:"activity",className:"space-y-4",children:e.jsxs(r,{children:[e.jsxs(u,{children:[e.jsxs(j,{className:"flex items-center space-x-2",children:[e.jsx(J,{className:"w-5 h-5"}),e.jsx("span",{children:"Recent Activity"})]}),e.jsx(y,{children:"Your recent actions and updates"})]}),e.jsx(c,{children:e.jsx("div",{className:"space-y-4",children:X.map(t=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border",children:[e.jsx("div",{className:"mt-1",children:ae(t.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:t.title}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t.description}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:x(new Date(t.timestamp),"MMM dd, yyyy HH:mm")})]})]},t.id))})})]})})]})]})};export{Ae as default};
