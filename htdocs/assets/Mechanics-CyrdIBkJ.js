var ue=Object.defineProperty,je=Object.defineProperties;var pe=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var fe=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable;var Y=(n,s,a)=>s in n?ue(n,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[s]=a,m=(n,s)=>{for(var a in s||(s={}))fe.call(s,a)&&Y(n,a,s[a]);if(G)for(var a of G(s))ge.call(s,a)&&Y(n,a,s[a]);return n},x=(n,s)=>je(n,pe(s));var b=(n,s,a)=>new Promise((r,i)=>{var o=l=>{try{d(a.next(l))}catch(c){i(c)}},t=l=>{try{d(a.throw(l))}catch(c){i(c)}},d=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,t);d((a=a.apply(n,s)).next())});import{j as e}from"./ui-vendor-DMUr7mTx.js";import{u as L,s as p,J as Z,B as N,C as y,d as v,e as T,l as ye,I,S as W,q as H,r as $,t as B,v as g,E as ve,D as re,m as ne,n as ie,o as te,p as ce,L as U,T as _e,a as z,b as F,c as be,h as Ne,i as we,j as ee,k as se}from"./index-ZwIgorfy.js";import{u as J,a as le,b as oe}from"./query-vendor-B2F_wWlc.js";import{r as K}from"./react-vendor-BvqlMsL5.js";import{T as de,a as he,b as k,c as u,d as me,e as j}from"./table-6WL4qh3Z.js";import{E as Q,W as O,U as qe,h as Ce,$ as Me,T as De,g as Se,D as ae,X as Ee,aI as ze,f as Fe,b9 as Te,m as Pe}from"./icons-vendor-b0I7fGSL.js";import{f as Re}from"./utils-vendor-B2FlkASS.js";import{o as Ie,s as A,n as Ae,b as ke,u as Le}from"./form-vendor-C09QGZOn.js";import{f as Ve,F as w,a as q,b as C,c as M,d as E,e as Ue}from"./zod-G3EUSSZ0.js";import{u as We}from"./useVehicles-uD3YILF5.js";import"./supabase-vendor-B984m0TI.js";import"./router-vendor-CEyBJ8vK.js";import"./ui-components-7w1-MJre.js";const xe=()=>{const{user:n,profile:s}=L();return J({queryKey:["mechanics",s==null?void 0:s.organization_id],queryFn:()=>b(void 0,null,function*(){if(!(s!=null&&s.organization_id))throw new Error("Organization ID is required");console.log("Fetching mechanics from database...");try{const{data:a,error:r}=yield p.from("mechanics").select("*").eq("organization_id",s.organization_id).order("created_at",{ascending:!1});if(r){if(console.error("Error fetching mechanics:",r),r.code==="42P01")return console.warn("mechanics table not found, returning empty data"),[];throw r}if(!a||a.length===0)return[];const i=a.filter(d=>d.profile_id).map(d=>d.profile_id);let o=[];if(i.length>0){const{data:d,error:l}=yield p.from("profiles").select("id, first_name, last_name, email").in("id",i);l?console.error("Error fetching profiles:",l):o=d||[]}const t=a.map(d=>{const l=o.find(c=>c.id===d.profile_id);return x(m({},d),{profile:l||null})});return console.log("Fetched mechanics with profiles:",t),t||[]}catch(a){return console.error("Error in useMechanics:",a),[]}}),enabled:!!(s!=null&&s.organization_id)})},He=()=>{const{user:n,profile:s}=L();return J({queryKey:["maintenance_requests",s==null?void 0:s.organization_id],queryFn:()=>b(void 0,null,function*(){if(!(s!=null&&s.organization_id))throw new Error("Organization ID is required");console.log("Fetching maintenance requests from database...");try{const{data:a,error:r}=yield p.from("maintenance_requests").select("*").eq("organization_id",s.organization_id).order("created_at",{ascending:!1});if(r){if(console.error("Error fetching maintenance requests:",r),r.code==="42P01")return console.warn("maintenance_requests table not found, returning empty data"),[];throw r}if(!a||a.length===0)return[];const i=a.filter(h=>h.vehicle_id).map(h=>h.vehicle_id),o=a.filter(h=>h.mechanic_id).map(h=>h.mechanic_id),t=a.filter(h=>h.requested_by).map(h=>h.requested_by),[d,l,c]=yield Promise.all([i.length>0?p.from("vehicles").select("id, vehicle_number, make, model").in("id",i):Promise.resolve({data:[],error:null}),o.length>0?p.from("mechanics").select("id, mechanic_name").in("id",o):Promise.resolve({data:[],error:null}),t.length>0?p.from("profiles").select("id, first_name, last_name").in("id",t):Promise.resolve({data:[],error:null})]),f=a.map(h=>{var D,_,X;const V=(D=d.data)==null?void 0:D.find(S=>S.id===h.vehicle_id),P=(_=l.data)==null?void 0:_.find(S=>S.id===h.mechanic_id),R=(X=c.data)==null?void 0:X.find(S=>S.id===h.requested_by);return x(m({},h),{vehicle:V||null,mechanic:P||null,requester:R||null})});return console.log("Fetched maintenance requests with relations:",f),f||[]}catch(a){return console.error("Error in useMaintenanceRequests:",a),[]}}),enabled:!!(s!=null&&s.organization_id)})},$e=()=>{const{profile:n}=L(),s=le();return oe({mutationFn:a=>b(void 0,null,function*(){if(!(n!=null&&n.organization_id))throw new Error("Organization ID is required");const{data:r,error:i}=yield p.from("mechanics").insert(x(m({},a),{organization_id:n.organization_id})).select().single();if(i)throw i;return r}),onSuccess:()=>{s.invalidateQueries({queryKey:["mechanics"]}),Z.success("Mechanic created successfully")},onError:a=>{console.error("Error creating mechanic:",a),Z.error("Failed to create mechanic: "+a.message)}})},Be=()=>{const{data:n=[]}=xe(),{data:s=[]}=He();return{total_mechanics:n.length,active_mechanics:n.filter(r=>r.is_available!==!1).length,total_requests:s.length,pending_requests:s.filter(r=>r.status==="pending").length,in_progress_requests:s.filter(r=>r.status==="in_progress").length,completed_requests:s.filter(r=>r.status==="completed").length,by_priority:s.reduce((r,i)=>{const o=i.priority||"medium";return r[o]=(r[o]||0)+1,r},{})}},Ke=({onAddMechanic:n})=>{const{data:s=[],isLoading:a,error:r}=xe();return a?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Loading mechanics..."})]}):r?e.jsx("div",{className:"text-center py-8",children:e.jsxs("p",{className:"text-red-600",children:["Error loading mechanics: ",r.message]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Mechanics"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Manage mechanics and their specializations"})]}),e.jsxs(N,{onClick:n,children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Add Mechanic"]})]}),s.length===0?e.jsx(y,{children:e.jsxs(v,{className:"text-center py-8",children:[e.jsx(O,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No mechanics found"})]})}):e.jsx(y,{children:e.jsx(v,{className:"p-0",children:e.jsxs(de,{children:[e.jsx(he,{children:e.jsxs(k,{children:[e.jsx(u,{children:"Mechanic"}),e.jsx(u,{children:"Contact"}),e.jsx(u,{children:"Certification"}),e.jsx(u,{children:"Specializations"}),e.jsx(u,{children:"Rate"}),e.jsx(u,{children:"Status"})]})}),e.jsx(me,{children:s.map(i=>{var o,t,d,l,c;return e.jsxs(k,{children:[e.jsx(j,{children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(qe,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[(o=i.profiles)==null?void 0:o.first_name," ",(t=i.profiles)==null?void 0:t.last_name]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",((d=i.profiles)==null?void 0:d.employee_id)||"N/A"]})]})]})}),e.jsx(j,{children:e.jsxs("div",{className:"space-y-1",children:[((l=i.profiles)==null?void 0:l.email)&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Ce,{className:"w-3 h-3 mr-1"}),i.profiles.email]}),((c=i.profiles)==null?void 0:c.phone)&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Me,{className:"w-3 h-3 mr-1"}),i.profiles.phone]})]})}),e.jsx(j,{children:i.certification_level?e.jsx(T,{variant:"secondary",children:i.certification_level.replace("_"," ")}):e.jsx("span",{className:"text-gray-400",children:"Not specified"})}),e.jsx(j,{children:e.jsx("div",{className:"flex flex-wrap gap-1",children:i.specializations&&i.specializations.length>0?i.specializations.map((f,h)=>e.jsx(T,{variant:"outline",className:"text-xs",children:f},h)):e.jsx("span",{className:"text-gray-400",children:"None specified"})})}),e.jsx(j,{children:i.hourly_rate?e.jsxs("span",{className:"font-medium",children:["$",i.hourly_rate,"/hr"]}):e.jsx("span",{className:"text-gray-400",children:"Not set"})}),e.jsx(j,{children:e.jsx(T,{variant:i.is_available?"default":"secondary",children:i.is_available?"Available":"Unavailable"})})]},i.id)})})]})})})]})},Qe=()=>J({queryKey:["maintenance-requests"],queryFn:()=>b(void 0,null,function*(){console.log("Fetching maintenance requests from database...");try{const{data:n,error:s}=yield p.from("maintenance_requests").select("*").order("created_at",{ascending:!1});if(s){if(console.error("Error fetching maintenance requests:",s),s.code==="42P01")return console.warn("maintenance_requests table not found, returning empty data"),[];throw s}if(!n||n.length===0)return[];const a=n.filter(c=>c.vehicle_id).map(c=>c.vehicle_id),r=n.filter(c=>c.mechanic_id).map(c=>c.mechanic_id),i=n.filter(c=>c.requested_by).map(c=>c.requested_by),[o,t,d]=yield Promise.all([a.length>0?p.from("vehicles").select("id, vehicle_number, make, model").in("id",a):Promise.resolve({data:[],error:null}),r.length>0?p.from("mechanics").select("id, mechanic_name").in("id",r):Promise.resolve({data:[],error:null}),i.length>0?p.from("profiles").select("id, first_name, last_name").in("id",i):Promise.resolve({data:[],error:null})]);return n.map(c=>{var P,R,D;const f=(P=o.data)==null?void 0:P.find(_=>_.id===c.vehicle_id),h=(R=t.data)==null?void 0:R.find(_=>_.id===c.mechanic_id),V=(D=d.data)==null?void 0:D.find(_=>_.id===c.requested_by);return x(m({},c),{vehicle:f||null,mechanic:h||null,requester:V||null})})||[]}catch(n){return console.error("Error in useMaintenanceRequests:",n),[]}})}),Je=()=>{const n=le(),{toast:s}=ye();return oe({mutationFn:a=>b(void 0,null,function*(){console.log("Creating maintenance request:",a);try{const{data:r,error:i}=yield p.from("maintenance_requests").insert({vehicle_id:a.vehicle_id,requested_by:a.user_id,description:a.description,status:"pending"}).select().single();if(i)throw i;return r}catch(r){throw console.error("Error creating maintenance request:",r),r}}),onSuccess:()=>{n.invalidateQueries({queryKey:["maintenance-requests"]}),s({title:"Success",description:"Maintenance request created successfully"})},onError:a=>{console.error("Error creating maintenance request:",a),s({title:"Error",description:"Failed to create maintenance request: "+a.message,variant:"destructive"})}})},Oe=({onCreateRequest:n})=>{const{data:s=[],isLoading:a,error:r}=Qe(),i=t=>{switch(t){case"urgent":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},o=t=>{switch(t){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"assigned":return"bg-purple-100 text-purple-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return a?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Loading maintenance requests..."})]}):r?e.jsx("div",{className:"text-center py-8",children:e.jsxs("p",{className:"text-red-600",children:["Error loading maintenance requests: ",r.message]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Maintenance Requests"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Track vehicle maintenance and repairs"})]}),e.jsxs(N,{onClick:n,children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Create Request"]})]}),s.length===0?e.jsx(y,{children:e.jsxs(v,{className:"text-center py-8",children:[e.jsx(De,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No maintenance requests found"}),e.jsxs(N,{onClick:n,variant:"outline",children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Create First Request"]})]})}):e.jsx(y,{children:e.jsx(v,{className:"p-0",children:e.jsxs(de,{children:[e.jsx(he,{children:e.jsxs(k,{children:[e.jsx(u,{children:"Vehicle"}),e.jsx(u,{children:"Title"}),e.jsx(u,{children:"Priority"}),e.jsx(u,{children:"Status"}),e.jsx(u,{children:"Mechanic"}),e.jsx(u,{children:"Scheduled"}),e.jsx(u,{children:"Cost"})]})}),e.jsx(me,{children:s.map(t=>{var d,l,c,f;return e.jsxs(k,{children:[e.jsx(j,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:(d=t.vehicles)==null?void 0:d.vehicle_number}),e.jsx("div",{className:"text-sm text-gray-500",children:(l=t.vehicles)==null?void 0:l.license_plate})]})}),e.jsx(j,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t.title}),t.description&&e.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:t.description})]})}),e.jsx(j,{children:e.jsx(T,{className:i(t.priority||"medium"),children:t.priority})}),e.jsx(j,{children:e.jsx(T,{className:o(t.status||"pending"),children:(c=t.status)==null?void 0:c.replace("_"," ")})}),e.jsx(j,{children:(f=t.mechanics)!=null&&f.profiles?e.jsxs("div",{className:"text-sm",children:[t.mechanics.profiles.first_name," ",t.mechanics.profiles.last_name]}):e.jsx("span",{className:"text-gray-400",children:"Unassigned"})}),e.jsx(j,{children:t.scheduled_date?e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(Se,{className:"w-3 h-3 mr-1"}),Re(new Date(t.scheduled_date),"MMM dd, yyyy")]}):e.jsx("span",{className:"text-gray-400",children:"Not scheduled"})}),e.jsx(j,{children:e.jsxs("div",{className:"space-y-1",children:[t.estimated_cost&&e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(ae,{className:"w-3 h-3 mr-1"}),"Est: $",t.estimated_cost]}),t.actual_cost&&e.jsxs("div",{className:"flex items-center text-sm font-medium",children:[e.jsx(ae,{className:"w-3 h-3 mr-1"}),"Actual: $",t.actual_cost]})]})})]},t.id)})})]})})})]})},Xe=Ie({profile_id:A().min(1,"Profile ID is required"),mechanic_license_number:A().optional(),certification_level:A().optional(),hourly_rate:Ae().min(0).optional(),specializations:A().optional(),is_available:ke().default(!0)}),Ge=({form:n,onSubmit:s,children:a})=>e.jsx(Ve,x(m({},n),{children:e.jsxs("form",{onSubmit:n.handleSubmit(s),className:"space-y-4",children:[e.jsx(w,{control:n.control,name:"profile_id",render:({field:r})=>e.jsxs(q,{children:[e.jsx(C,{children:"Profile ID"}),e.jsx(M,{children:e.jsx(I,x(m({},r),{placeholder:"Enter profile ID"}))}),e.jsx(E,{})]})}),e.jsx(w,{control:n.control,name:"mechanic_license_number",render:({field:r})=>e.jsxs(q,{children:[e.jsx(C,{children:"License Number"}),e.jsx(M,{children:e.jsx(I,x(m({},r),{placeholder:"Enter license number"}))}),e.jsx(E,{})]})}),e.jsx(w,{control:n.control,name:"certification_level",render:({field:r})=>e.jsxs(q,{children:[e.jsx(C,{children:"Certification Level"}),e.jsxs(W,{onValueChange:r.onChange,defaultValue:r.value,children:[e.jsx(M,{children:e.jsx(H,{children:e.jsx($,{placeholder:"Select certification level"})})}),e.jsxs(B,{children:[e.jsx(g,{value:"apprentice",children:"Apprentice"}),e.jsx(g,{value:"journeyman",children:"Journeyman"}),e.jsx(g,{value:"master",children:"Master"}),e.jsx(g,{value:"certified_technician",children:"Certified Technician"})]})]}),e.jsx(E,{})]})}),e.jsx(w,{control:n.control,name:"hourly_rate",render:({field:r})=>e.jsxs(q,{children:[e.jsx(C,{children:"Hourly Rate ($)"}),e.jsx(M,{children:e.jsx(I,x(m({},r),{type:"number",min:"0",step:"0.01",onChange:i=>r.onChange(parseFloat(i.target.value)||0),placeholder:"Enter hourly rate"}))}),e.jsx(E,{})]})}),e.jsx(w,{control:n.control,name:"specializations",render:({field:r})=>e.jsxs(q,{children:[e.jsx(C,{children:"Specializations"}),e.jsx(M,{children:e.jsx(I,x(m({},r),{placeholder:"Enter specializations (comma-separated)"}))}),e.jsx(E,{})]})}),e.jsx(w,{control:n.control,name:"is_available",render:({field:r})=>e.jsxs(q,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[e.jsx("div",{className:"space-y-0.5",children:e.jsx(C,{children:"Available for Work"})}),e.jsx(M,{children:e.jsx(ve,{checked:r.value,onCheckedChange:r.onChange})})]})}),a]})})),Ye=({open:n,onOpenChange:s})=>{const a=$e(),r=Le({resolver:Ue(Xe),defaultValues:{profile_id:"",mechanic_license_number:"",certification_level:"",hourly_rate:0,specializations:"",is_available:!0}}),i=o=>b(void 0,null,function*(){try{const t=x(m({},o),{specializations:o.specializations?o.specializations.split(",").map(d=>d.trim()).filter(Boolean):null,hourly_rate:o.hourly_rate||null,mechanic_license_number:o.mechanic_license_number||null,certification_level:o.certification_level||null});yield a.mutateAsync(t),r.reset(),s(!1)}catch(t){console.error("Error creating mechanic:",t)}});return e.jsx(re,{open:n,onOpenChange:s,children:e.jsxs(ne,{className:"max-w-md",children:[e.jsxs(ie,{children:[e.jsxs(te,{className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-5 w-5"}),"Add New Mechanic"]}),e.jsx(ce,{children:"Add a new mechanic to your maintenance team"})]}),e.jsx(Ge,{form:r,onSubmit:i,children:e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsxs(N,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:a.isPending,children:[e.jsx(Ee,{className:"w-4 h-4 mr-2"}),"Cancel"]}),e.jsxs(N,{type:"submit",disabled:a.isPending,children:[e.jsx(ze,{className:"w-4 h-4 mr-2"}),a.isPending?"Creating...":"Create Mechanic"]})]})})]})})},Ze=({open:n,onOpenChange:s})=>{const{user:a}=L(),{data:r=[]}=We(),i=Je(),[o,t]=K.useState({vehicle_id:"",description:"",priority:"medium"}),d=l=>b(void 0,null,function*(){if(l.preventDefault(),!(!(a!=null&&a.id)||!o.vehicle_id||!o.description))try{yield i.mutateAsync({vehicle_id:o.vehicle_id,user_id:a.id,description:o.description,priority:o.priority}),t({vehicle_id:"",description:"",priority:"medium"}),s(!1)}catch(c){console.error("Error creating maintenance request:",c)}});return e.jsx(re,{open:n,onOpenChange:s,children:e.jsxs(ne,{className:"sm:max-w-[425px]",children:[e.jsxs(ie,{children:[e.jsx(te,{children:"Create Maintenance Request"}),e.jsx(ce,{children:"Submit a new maintenance request for a vehicle"})]}),e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{htmlFor:"vehicle",children:"Vehicle"}),e.jsxs(W,{value:o.vehicle_id,onValueChange:l=>t(c=>x(m({},c),{vehicle_id:l})),children:[e.jsx(H,{children:e.jsx($,{placeholder:"Select a vehicle"})}),e.jsx(B,{children:r.map(l=>e.jsxs(g,{value:l.id.toString(),children:[l.vehicle_number," - ",l.make," ",l.model]},l.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{htmlFor:"priority",children:"Priority"}),e.jsxs(W,{value:o.priority,onValueChange:l=>t(c=>x(m({},c),{priority:l})),children:[e.jsx(H,{children:e.jsx($,{})}),e.jsxs(B,{children:[e.jsx(g,{value:"low",children:"Low"}),e.jsx(g,{value:"medium",children:"Medium"}),e.jsx(g,{value:"high",children:"High"}),e.jsx(g,{value:"urgent",children:"Urgent"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{htmlFor:"description",children:"Description"}),e.jsx(_e,{id:"description",placeholder:"Describe the maintenance issue...",value:o.description,onChange:l=>t(c=>x(m({},c),{description:l.target.value})),required:!0})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(N,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),e.jsx(N,{type:"submit",disabled:i.isPending,children:i.isPending?"Creating...":"Create Request"})]})]})]})})},es=()=>{const[n,s]=K.useState(!1),[a,r]=K.useState(!1);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(y,{children:[e.jsxs(z,{children:[e.jsx(F,{children:"Mechanics & Maintenance Management"}),e.jsx(be,{children:"Manage mechanics, vehicle assignments, and maintenance requests"})]}),e.jsx(v,{children:e.jsxs(Ne,{defaultValue:"mechanics",className:"space-y-4",children:[e.jsxs(we,{children:[e.jsx(ee,{value:"mechanics",children:"Mechanics"}),e.jsx(ee,{value:"maintenance",children:"Maintenance Requests"})]}),e.jsx(se,{value:"mechanics",children:e.jsx(Ke,{onAddMechanic:()=>s(!0)})}),e.jsx(se,{value:"maintenance",children:e.jsx(Oe,{onCreateRequest:()=>r(!0)})})]})})]}),e.jsx(Ye,{open:n,onOpenChange:s}),e.jsx(Ze,{open:a,onOpenChange:r})]})},js=()=>{const n=Be();return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Mechanics Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage mechanics, assignments, and maintenance requests"})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(y,{children:[e.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(F,{className:"text-sm font-medium",children:"Active Mechanics"}),e.jsx(Fe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(v,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n.active_mechanics}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.total_mechanics," total mechanics"]})]})]}),e.jsxs(y,{children:[e.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(F,{className:"text-sm font-medium",children:"Pending Requests"}),e.jsx(Te,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(v,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n.pending_requests}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.total_requests," total requests"]})]})]}),e.jsxs(y,{children:[e.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(F,{className:"text-sm font-medium",children:"In Progress"}),e.jsx(O,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(v,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n.in_progress_requests}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Actively being worked on"})]})]}),e.jsxs(y,{children:[e.jsxs(z,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(F,{className:"text-sm font-medium",children:"Completed Today"}),e.jsx(Pe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(v,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n.completed_requests}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Successfully resolved"})]})]})]}),e.jsx(es,{})]})};export{js as default};
