var Le=Object.defineProperty,Oe=Object.defineProperties;var He=Object.getOwnPropertyDescriptors;var be=Object.getOwnPropertySymbols;var $e=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable;var _e=(d,s,l)=>s in d?Le(d,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):d[s]=l,P=(d,s)=>{for(var l in s||(s={}))$e.call(s,l)&&_e(d,l,s[l]);if(be)for(var l of be(s))Be.call(s,l)&&_e(d,l,s[l]);return d},k=(d,s)=>Oe(d,He(s));var S=(d,s,l)=>new Promise((R,b)=>{var _=i=>{try{g(l.next(i))}catch(q){b(q)}},N=i=>{try{g(l.throw(i))}catch(q){b(q)}},g=i=>i.done?R(i.value):Promise.resolve(i.value).then(_,N);g((l=l.apply(d,s)).next())});import{j as e}from"./ui-vendor-DMUr7mTx.js";import{r as E}from"./react-vendor-BvqlMsL5.js";import{u as ze,J as F,s as j,l as Je,e as m,C as u,d as f,P as L,h as Ge,i as Ye,j as M,k as T,a as y,X as Qe,Y as Ke,Z as Ze,B as h,b as A,c as z,x as p,L as a,I as w,E as c,A as We,g as Xe}from"./index-ZwIgorfy.js";import{u as Ce}from"./query-vendor-B2F_wWlc.js";import{b0 as D,aG as K,f as Pe,m as es,Y as ke,J as O,U as ss,k as Se,d as H,S as Ae,h as ts,ak as as,A as Z,j as is,aI as $,M as rs,an as W,aa as X}from"./icons-vendor-b0I7fGSL.js";import"./supabase-vendor-B984m0TI.js";import"./utils-vendor-B2FlkASS.js";import"./router-vendor-CEyBJ8vK.js";import"./ui-components-7w1-MJre.js";const ls=()=>{const{user:d,profile:s,refreshProfile:l}=ze(),[R,b]=E.useState(!1);return{updating:R,updateProfile:g=>S(void 0,null,function*(){if(!d||!s)return F.error("You must be logged in to update your profile"),{error:new Error("Not authenticated")};b(!0);try{const{error:i}=yield j.from("profiles").update(g).eq("id",d.id);if(i)throw i;return yield l(),F.success("Profile updated successfully"),{error:null}}catch(i){return console.error("Error updating profile:",i),F.error("Failed to update profile: "+i.message),{error:i}}finally{b(!1)}}),updatePassword:g=>S(void 0,null,function*(){if(!d)return F.error("You must be logged in to update your password"),{error:new Error("Not authenticated")};try{const{error:i}=yield j.auth.updateUser({password:g});if(i)throw i;return F.success("Password updated successfully"),{error:null}}catch(i){return console.error("Error updating password:",i),F.error("Failed to update password: "+i.message),{error:i}}})}},gs=()=>{var ee,se,te,ae,ie,re;const{user:d,profile:s}=ze(),{updating:l,updateProfile:R,updatePassword:b}=ls(),{toast:_}=Je(),[N,g]=E.useState(!1),[i,q]=E.useState(!1),[B,De]=E.useState(!1),[J,Ee]=E.useState(!1),[U,G]=E.useState({first_name:(s==null?void 0:s.first_name)||"",last_name:(s==null?void 0:s.last_name)||"",phone:""}),[v,V]=E.useState({currentPassword:"",newPassword:"",confirmPassword:""}),Ue=()=>S(void 0,null,function*(){if(!U.first_name.trim()||!U.last_name.trim()){_({title:"Validation Error",description:"First name and last name are required.",variant:"destructive"});return}const{error:t}=yield R({first_name:U.first_name.trim(),last_name:U.last_name.trim()});t||g(!1)}),Fe=()=>S(void 0,null,function*(){if(!v.newPassword||!v.confirmPassword){_({title:"Validation Error",description:"Please fill in all password fields.",variant:"destructive"});return}if(v.newPassword!==v.confirmPassword){_({title:"Validation Error",description:"New passwords do not match.",variant:"destructive"});return}if(v.newPassword.length<6){_({title:"Validation Error",description:"Password must be at least 6 characters long.",variant:"destructive"});return}const{error:t}=yield b(v.newPassword);t||V({currentPassword:"",newPassword:"",confirmPassword:""})}),Re=t=>{switch(t){case"admin":return"bg-red-100 text-red-800";case"council":return"bg-blue-100 text-blue-800";case"driver":return"bg-green-100 text-green-800";case"parent":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},qe=t=>{switch(t){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};if(!s)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{children:"Loading profile..."})})});const{data:r}=Ce({queryKey:["admin-stats",s==null?void 0:s.organization_id],queryFn:()=>S(void 0,null,function*(){var oe,me,xe,he,ue,je,fe,ge,pe,Ne,ve,we,ye;if(!(s!=null&&s.organization_id)||(s==null?void 0:s.role)!=="admin")return null;const[t,n,I,le,o,Q,Ie]=yield Promise.all([j.from("vehicles").select("id, status").eq("organization_id",s.organization_id),j.from("profiles").select("id, employment_status").eq("organization_id",s.organization_id).eq("role","driver"),j.from("routes").select("id, status").eq("organization_id",s.organization_id),j.from("incidents").select("id, severity, created_at").eq("organization_id",s.organization_id).gte("created_at",new Date(Date.now()-30*24*60*60*1e3).toISOString()),j.from("support_tickets").select("id, status, priority").eq("organization_id",s.organization_id),j.from("vehicle_checks").select("id, created_at").eq("organization_id",s.organization_id).gte("created_at",new Date(Date.now()-7*24*60*60*1e3).toISOString()),j.from("profiles").select("id").eq("organization_id",s.organization_id).eq("role","mechanic")]),ne=((oe=t.data)==null?void 0:oe.filter(C=>C.status==="active").length)||0,ce=((me=n.data)==null?void 0:me.filter(C=>C.employment_status==="active").length)||0,de=((xe=I.data)==null?void 0:xe.filter(C=>C.status==="active").length)||0,Me=((he=le.data)==null?void 0:he.length)||0,Te=((ue=o.data)==null?void 0:ue.filter(C=>C.status==="open").length)||0,Ve=((je=Q.data)==null?void 0:je.length)||0;return{totalVehicles:((fe=t.data)==null?void 0:fe.length)||0,activeVehicles:ne,totalDrivers:((ge=n.data)==null?void 0:ge.length)||0,activeDrivers:ce,totalRoutes:((pe=I.data)==null?void 0:pe.length)||0,activeRoutes:de,totalMechanics:((Ne=Ie.data)==null?void 0:Ne.length)||0,recentIncidents:Me,openTickets:Te,weeklyChecks:Ve,systemHealth:{vehicleUtilization:totalVehicles>0?Math.round(ne/(((ve=t.data)==null?void 0:ve.length)||1)*100):0,driverUtilization:totalDrivers>0?Math.round(ce/(((we=n.data)==null?void 0:we.length)||1)*100):0,routeEfficiency:totalRoutes>0?Math.round(de/(((ye=I.data)==null?void 0:ye.length)||1)*100):0}}}),enabled:!!(s!=null&&s.organization_id)&&(s==null?void 0:s.role)==="admin"}),{data:Y}=Ce({queryKey:["admin-activity",s==null?void 0:s.organization_id],queryFn:()=>S(void 0,null,function*(){if(!(s!=null&&s.organization_id)||(s==null?void 0:s.role)!=="admin")return[];const[t,n,I]=yield Promise.all([j.from("profiles").select("first_name, last_name, role, created_at").eq("organization_id",s.organization_id).gte("created_at",new Date(Date.now()-7*24*60*60*1e3).toISOString()).order("created_at",{ascending:!1}).limit(5),j.from("incidents").select("id, type, severity, created_at").eq("organization_id",s.organization_id).gte("created_at",new Date(Date.now()-7*24*60*60*1e3).toISOString()).order("created_at",{ascending:!1}).limit(3),j.from("vehicle_checks").select("id, vehicle_id, created_at").eq("organization_id",s.organization_id).gte("created_at",new Date(Date.now()-3*24*60*60*1e3).toISOString()).order("created_at",{ascending:!1}).limit(5)]);return[...(t.data||[]).map(o=>({type:"user_registered",message:`${o.first_name} ${o.last_name} registered as ${o.role}`,timestamp:o.created_at,severity:"info"})),...(n.data||[]).map(o=>({type:"incident",message:`New ${o.severity} ${o.type} incident reported`,timestamp:o.created_at,severity:o.severity})),...(I.data||[]).map(o=>({type:"vehicle_check",message:"Vehicle check completed",timestamp:o.created_at,severity:"info"}))].sort((o,Q)=>new Date(Q.timestamp).getTime()-new Date(o.timestamp).getTime()).slice(0,10)}),enabled:!!(s!=null&&s.organization_id)&&(s==null?void 0:s.role)==="admin"}),x=(s==null?void 0:s.role)==="admin";return e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[x&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(D,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Admin Profile"}),e.jsx("p",{className:"text-muted-foreground",children:"System administrator dashboard and settings"})]})]}),e.jsxs(m,{className:"bg-red-100 text-red-800",children:[e.jsx(D,{className:"w-4 h-4 mr-1"}),"Administrator"]})]}),!x&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"User Profile"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage your account settings and preferences"})]}),x&&r&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsx(u,{children:e.jsxs(f,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Fleet Status"}),e.jsxs("p",{className:"text-2xl font-bold",children:[r.activeVehicles,"/",r.totalVehicles]}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[(ee=r.systemHealth)==null?void 0:ee.vehicleUtilization,"% active"]})]})]}),e.jsx(K,{className:"h-8 w-8 text-muted-foreground"})]}),e.jsx(L,{value:(se=r.systemHealth)==null?void 0:se.vehicleUtilization,className:"mt-3 h-2"})]})}),e.jsx(u,{children:e.jsxs(f,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Workforce"}),e.jsxs("p",{className:"text-2xl font-bold",children:[r.activeDrivers,"/",r.totalDrivers]}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",r.totalMechanics," mechanics"]})]})]}),e.jsx(Pe,{className:"h-8 w-8 text-muted-foreground"})]}),e.jsx(L,{value:(te=r.systemHealth)==null?void 0:te.driverUtilization,className:"mt-3 h-2"})]})}),e.jsx(u,{children:e.jsxs(f,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Operations"}),e.jsxs("p",{className:"text-2xl font-bold",children:[r.activeRoutes,"/",r.totalRoutes]}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[r.weeklyChecks," checks this week"]})]})]}),e.jsx(es,{className:"h-8 w-8 text-muted-foreground"})]}),e.jsx(L,{value:(ae=r.systemHealth)==null?void 0:ae.routeEfficiency,className:"mt-3 h-2"})]})}),e.jsx(u,{children:e.jsxs(f,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Issues"}),e.jsx("p",{className:"text-2xl font-bold",children:r.openTickets+r.recentIncidents}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${r.recentIncidents>0?"bg-red-500":"bg-green-500"}`}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[r.recentIncidents," incidents (30d)"]})]})]}),e.jsx(ke,{className:"h-8 w-8 text-muted-foreground"})]}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[r.openTickets>0&&e.jsxs(m,{variant:"secondary",className:"text-xs",children:[r.openTickets," tickets"]}),r.recentIncidents>0&&e.jsxs(m,{variant:"destructive",className:"text-xs",children:[r.recentIncidents," incidents"]}),r.openTickets===0&&r.recentIncidents===0&&e.jsxs(m,{className:"bg-green-100 text-green-800 text-xs",children:[e.jsx(O,{className:"w-3 h-3 mr-1"}),"All clear"]})]})]})})]}),e.jsxs(Ge,{defaultValue:"profile",className:"space-y-6",children:[e.jsxs(Ye,{className:`grid w-full ${x?"grid-cols-5":"grid-cols-4"}`,children:[e.jsxs(M,{value:"profile",className:"flex items-center space-x-2",children:[e.jsx(ss,{className:"w-4 h-4"}),e.jsx("span",{children:"Profile"})]}),x&&e.jsxs(M,{value:"admin",className:"flex items-center space-x-2",children:[e.jsx(D,{className:"w-4 h-4"}),e.jsx("span",{children:"Admin"})]}),e.jsxs(M,{value:"security",className:"flex items-center space-x-2",children:[e.jsx(Se,{className:"w-4 h-4"}),e.jsx("span",{children:"Security"})]}),e.jsxs(M,{value:"notifications",className:"flex items-center space-x-2",children:[e.jsx(H,{className:"w-4 h-4"}),e.jsx("span",{children:"Notifications"})]}),e.jsxs(M,{value:"preferences",className:"flex items-center space-x-2",children:[e.jsx(Ae,{className:"w-4 h-4"}),e.jsx("span",{children:"Preferences"})]})]}),e.jsx(T,{value:"profile",children:e.jsxs("div",{className:"grid gap-6",children:[e.jsx(u,{children:e.jsx(y,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(Qe,{className:"w-20 h-20",children:[e.jsx(Ke,{src:s.avatar_url||""}),e.jsxs(Ze,{className:"text-lg",children:[(ie=s.first_name)==null?void 0:ie[0],(re=s.last_name)==null?void 0:re[0]]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("h2",{className:"text-2xl font-bold",children:[s.first_name," ",s.last_name]}),x&&e.jsx(D,{className:"w-5 h-5 text-red-600"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(ts,{className:"w-4 h-4"}),e.jsx("p",{children:s.email})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-3",children:[e.jsxs(m,{className:Re(s.role),children:[x&&e.jsx(D,{className:"w-3 h-3 mr-1"}),s.role.charAt(0).toUpperCase()+s.role.slice(1)]}),e.jsxs(m,{className:qe(s.employment_status||"active"),children:[e.jsx(O,{className:"w-3 h-3 mr-1"}),s.employment_status||"Active"]})]})]})]}),e.jsxs(h,{variant:"outline",onClick:()=>g(!N),className:"flex items-center space-x-2",children:[e.jsx(as,{className:"w-4 h-4"}),e.jsx("span",{children:N?"Cancel":"Edit"})]})]})})}),x&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(u,{children:[e.jsxs(y,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"w-5 h-5"}),"System Overview"]}),e.jsx(z,{children:"Real-time system status and organization details"})]}),e.jsxs(f,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"Organization Details"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Organization ID"}),e.jsx("span",{className:"font-mono text-sm bg-muted px-2 py-1 rounded",children:s.organization_id})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Admin Since"}),e.jsx("span",{className:"text-sm",children:new Date().toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Last Active"}),e.jsxs(m,{className:"bg-green-100 text-green-800 text-xs",children:[e.jsx(is,{className:"w-3 h-3 mr-1"}),"Online now"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Access Level"}),e.jsxs(m,{className:"bg-red-100 text-red-800 text-xs",children:[e.jsx(D,{className:"w-3 h-3 mr-1"}),"Full Admin"]})]})]})]}),e.jsx(p,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold",children:"System Health"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Platform Status"}),e.jsxs(m,{className:"bg-green-100 text-green-800",children:[e.jsx(O,{className:"w-3 h-3 mr-1"}),"Operational"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Database"}),e.jsxs(m,{className:"bg-green-100 text-green-800",children:[e.jsx(K,{className:"w-3 h-3 mr-1"}),"Connected"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Last Backup"}),e.jsx("span",{className:"text-sm",children:"2 hours ago"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Server Load"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{value:23,className:"w-16 h-2"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"23%"})]})]})]})]})]})]}),e.jsxs(u,{children:[e.jsxs(y,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-5 h-5"}),"Recent Activity"]}),e.jsx(z,{children:"Latest system events and user activities"})]}),e.jsx(f,{children:e.jsxs("div",{className:"space-y-4",children:[Y&&Y.length>0?Y.slice(0,8).map((t,n)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${t.severity==="high"||t.severity==="critical"?"bg-red-500":t.severity==="medium"?"bg-yellow-500":"bg-green-500"}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-foreground",children:t.message}),e.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(t.timestamp).toLocaleString()})]}),e.jsx(m,{variant:"secondary",className:`text-xs ${t.type==="incident"?"bg-red-100 text-red-800":t.type==="user_registered"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:t.type.replace("_"," ")})]},n)):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(Z,{className:"w-8 h-8 mx-auto text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent activity"})]}),e.jsx(p,{}),e.jsx("div",{className:"flex justify-center",children:e.jsx(h,{variant:"outline",size:"sm",className:"text-xs",children:"View All Activity"})})]})})]})]}),e.jsxs(u,{children:[e.jsxs(y,{children:[e.jsx(A,{children:"Personal Information"}),e.jsx(z,{children:"Update your personal details and contact information"})]}),e.jsxs(f,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"first_name",children:"First Name"}),e.jsx(w,{id:"first_name",value:U.first_name,onChange:t=>G(n=>k(P({},n),{first_name:t.target.value})),disabled:!N})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"last_name",children:"Last Name"}),e.jsx(w,{id:"last_name",value:U.last_name,onChange:t=>G(n=>k(P({},n),{last_name:t.target.value})),disabled:!N})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"email",children:"Email"}),e.jsx(w,{id:"email",value:s.email,disabled:!0,className:"bg-gray-50"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Email cannot be changed"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"phone",children:"Phone Number"}),e.jsx(w,{id:"phone",value:"",onChange:t=>G(n=>k(P({},n),{phone:t.target.value})),disabled:!N,placeholder:"Phone number not available"})]}),N&&e.jsx("div",{className:"flex space-x-2 pt-4",children:e.jsxs(h,{onClick:Ue,disabled:l,className:"flex items-center space-x-2",children:[e.jsx($,{className:"w-4 h-4"}),e.jsx("span",{children:l?"Saving...":"Save Changes"})]})})]})]})]})}),x&&e.jsx(T,{value:"admin",children:e.jsx("div",{className:"grid gap-6",children:e.jsxs(u,{children:[e.jsxs(y,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-5 h-5"}),"Administrator Settings"]}),e.jsx(z,{children:"System-wide configuration and administrative controls"})]}),e.jsxs(f,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"System Configuration"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium",children:"Maintenance Mode"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable system maintenance"})]}),e.jsx(c,{defaultChecked:!1})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium",children:"Debug Logging"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable detailed system logs"})]}),e.jsx(c,{defaultChecked:!1})]})]}),e.jsx(p,{})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"User Management"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium",children:"Auto-approve Drivers"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically approve driver registrations"})]}),e.jsx(c,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium",children:"Require 2FA"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Force two-factor authentication"})]}),e.jsx(c,{defaultChecked:!1})]})]}),e.jsx(p,{})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Data Management"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs(h,{variant:"outline",className:"justify-start",children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),"Export Data"]}),e.jsxs(h,{variant:"outline",className:"justify-start",children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"Audit Logs"]}),e.jsxs(h,{variant:"outline",className:"justify-start",children:[e.jsx(Z,{className:"w-4 h-4 mr-2"}),"Health Report"]}),e.jsxs(h,{variant:"outline",className:"justify-start",children:[e.jsx(Pe,{className:"w-4 h-4 mr-2"}),"Manage Users"]})]}),e.jsx(p,{})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Advanced Operations"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium",children:"Compliance Monitoring"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Monitor driver compliance and violations"})]}),e.jsx(c,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium",children:"Real-time Tracking"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable GPS tracking for all vehicles"})]}),e.jsx(c,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium",children:"Automated Reporting"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Generate daily/weekly reports automatically"})]}),e.jsx(c,{defaultChecked:!1})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium",children:"Emergency Protocols"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable emergency response system"})]}),e.jsx(c,{defaultChecked:!0})]})]}),e.jsx(p,{})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"System Integrations"}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(O,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:"Supabase Database"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Connected & Operational"})]})]}),e.jsx(m,{className:"bg-green-100 text-green-800",children:"Active"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(rs,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:"Google Maps API"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Route optimization enabled"})]})]}),e.jsx(m,{className:"bg-blue-100 text-blue-800",children:"Connected"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsx(H,{className:"w-4 h-4 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:"Notification Service"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Push notifications & SMS"})]})]}),e.jsx(m,{className:"bg-yellow-100 text-yellow-800",children:"Configured"})]})]})})]}),e.jsxs(We,{children:[e.jsx(ke,{className:"h-4 w-4"}),e.jsx(Xe,{children:"Administrative changes can affect system performance. Review changes carefully before applying."})]})]})]})})}),e.jsx(T,{value:"security",children:e.jsxs(u,{children:[e.jsxs(y,{children:[e.jsx(A,{children:"Security Settings"}),e.jsx(z,{children:"Manage your password and security preferences"})]}),e.jsx(f,{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Change Password"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"current_password",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{id:"current_password",type:i?"text":"password",value:v.currentPassword,onChange:t=>V(n=>k(P({},n),{currentPassword:t.target.value})),placeholder:"Enter current password"}),e.jsx(h,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 h-7 w-7 p-0",onClick:()=>q(!i),children:i?e.jsx(W,{className:"h-4 w-4"}):e.jsx(X,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"new_password",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{id:"new_password",type:B?"text":"password",value:v.newPassword,onChange:t=>V(n=>k(P({},n),{newPassword:t.target.value})),placeholder:"Enter new password"}),e.jsx(h,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 h-7 w-7 p-0",onClick:()=>De(!B),children:B?e.jsx(W,{className:"h-4 w-4"}):e.jsx(X,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"confirm_password",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{id:"confirm_password",type:J?"text":"password",value:v.confirmPassword,onChange:t=>V(n=>k(P({},n),{confirmPassword:t.target.value})),placeholder:"Confirm new password"}),e.jsx(h,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 h-7 w-7 p-0",onClick:()=>Ee(!J),children:J?e.jsx(W,{className:"h-4 w-4"}):e.jsx(X,{className:"h-4 w-4"})})]})]}),e.jsxs(h,{onClick:Fe,disabled:l,className:"flex items-center space-x-2",children:[e.jsx($,{className:"w-4 h-4"}),e.jsx("span",{children:l?"Updating...":"Update Password"})]})]})})]})}),e.jsx(T,{value:"notifications",children:e.jsxs(u,{children:[e.jsxs(y,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-5 h-5"}),"Notification Preferences"]}),e.jsx(z,{children:x?"Configure system-wide and personal notification settings":"Choose how you want to be notified about updates and activities"})]}),e.jsxs(f,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Personal Notifications"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium",children:"Email Notifications"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive updates via email"})]}),e.jsx(c,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium",children:"SMS Notifications"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive urgent alerts via SMS"})]}),e.jsx(c,{defaultChecked:!1})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium",children:"Push Notifications"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Browser push notifications"})]}),e.jsx(c,{defaultChecked:!0})]})]}),e.jsx(p,{})]}),x&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Administrative Alerts"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium",children:"System Alerts"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Critical system notifications"})]}),e.jsx(c,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium",children:"Security Alerts"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Login attempts and security events"})]}),e.jsx(c,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium",children:"User Activity"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"New registrations and user actions"})]}),e.jsx(c,{defaultChecked:!1})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium",children:"System Health"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Performance and maintenance alerts"})]}),e.jsx(c,{defaultChecked:!0})]})]}),e.jsx(p,{})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Schedule"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"quiet-hours-start",children:"Quiet Hours Start"}),e.jsx(w,{id:"quiet-hours-start",type:"time",defaultValue:"22:00"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"quiet-hours-end",children:"Quiet Hours End"}),e.jsx(w,{id:"quiet-hours-end",type:"time",defaultValue:"07:00"})]})]})]}),e.jsxs(h,{className:"w-full",children:[e.jsx($,{className:"w-4 h-4 mr-2"}),"Save Notification Preferences"]})]})]})}),e.jsx(T,{value:"preferences",children:e.jsxs(u,{children:[e.jsxs(y,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"w-5 h-5"}),"Application Preferences"]}),e.jsx(z,{children:x?"Customize your administration experience and system defaults":"Customize your application experience"})]}),e.jsxs(f,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Display"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium",children:"Dark Mode"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Use dark theme"})]}),e.jsx(c,{defaultChecked:!1})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium",children:"Compact View"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Show more information in less space"})]}),e.jsx(c,{defaultChecked:!1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"items-per-page",children:"Items per page"}),e.jsxs("select",{id:"items-per-page",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",defaultValue:"20",children:[e.jsx("option",{value:"10",children:"10"}),e.jsx("option",{value:"20",children:"20"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"})]})]})]}),e.jsx(p,{})]}),x&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Administrative Defaults"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium",children:"Auto-approve New Users"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically approve new user registrations"})]}),e.jsx(c,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(a,{className:"text-sm font-medium",children:"Show Advanced Options"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Display advanced configuration options by default"})]}),e.jsx(c,{defaultChecked:!1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"default-user-role",children:"Default New User Role"}),e.jsxs("select",{id:"default-user-role",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",defaultValue:"driver",children:[e.jsx("option",{value:"driver",children:"Driver"}),e.jsx("option",{value:"parent",children:"Parent"}),e.jsx("option",{value:"mechanic",children:"Mechanic"})]})]})]}),e.jsx(p,{})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Language & Region"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"language",children:"Language"}),e.jsxs("select",{id:"language",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",defaultValue:"en",children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"af",children:"Afrikaans"}),e.jsx("option",{value:"zu",children:"Zulu"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"timezone",children:"Timezone"}),e.jsxs("select",{id:"timezone",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",defaultValue:"Africa/Johannesburg",children:[e.jsx("option",{value:"Africa/Johannesburg",children:"SAST (UTC+2)"}),e.jsx("option",{value:"UTC",children:"UTC (UTC+0)"})]})]})]})]}),e.jsxs(h,{className:"w-full",children:[e.jsx($,{className:"w-4 h-4 mr-2"}),"Save Preferences"]})]})]})})]})]})};export{gs as default};
