var d=(s,r,o)=>new Promise((i,t)=>{var u=e=>{try{a(o.next(e))}catch(n){t(n)}},g=e=>{try{a(o.throw(e))}catch(n){t(n)}},a=e=>e.done?i(e.value):Promise.resolve(e.value).then(u,g);a((o=o.apply(s,r)).next())});import{u as c}from"./query-vendor-B2F_wWlc.js";import{u as l,s as z}from"./index-ZwIgorfy.js";const q=()=>{const{user:s,profile:r}=l();return c({queryKey:["drivers",r==null?void 0:r.organization_id],queryFn:()=>d(void 0,null,function*(){if(!(r!=null&&r.organization_id))throw console.log("No organization ID available"),new Error("Organization ID is required");console.log("ðŸš— Fetching drivers for organization:",r.organization_id);const{data:o,error:i}=yield z.from("profiles").select("*").eq("organization_id",r.organization_id).eq("role","driver").order("created_at",{ascending:!1});if(console.log("âœ… Drivers query result:",{data:o,error:i}),i)throw console.error("Error fetching drivers:",i),i;return console.log("Fetched drivers:",o),o||[]}),enabled:!!(r!=null&&r.organization_id)})};export{q as u};
