import{_ as x,u as m,r as o,j as e,T as f,e as g,g as j,$ as w,C as y,a0 as p,h as v,i as C,k as u,B as N,J as b}from"./main-DVuL102c.js";const _=()=>{const[t]=x(),c=m(),[s,i]=o.useState("loading"),[h,r]=o.useState("");return o.useEffect(()=>{(async()=>{try{const n=t.get("token_hash"),a=t.get("type"),d=t.get("redirect_to");if(!n||!a){i("error"),r("Invalid verification link");return}const{error:l}=await b.auth.verifyOtp({token_hash:n,type:a});l?(console.error("Verification error:",l),i("error"),r(l.message||"Verification failed")):(i("success"),r(a==="signup"?"Email verified successfully! You can now sign in.":a==="recovery"?"Password reset verified! You can now set a new password.":a==="email_change"?"Email change confirmed successfully!":"Verification completed successfully!"),setTimeout(()=>{a==="recovery"?c("/reset-password"):d?window.location.href=d:c("/")},2e3))}catch(n){console.error("Callback error:",n),i("error"),r("An unexpected error occurred")}})()},[t,c]),e.jsx("div",{className:"min-h-screen bg-gradient-bg flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center",children:e.jsx(f,{className:"w-8 h-8 text-primary"})}),e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Logistics Solution Resources"})]})}),e.jsxs(g,{children:[e.jsxs(j,{className:"text-center",children:[e.jsxs("div",{className:"flex justify-center mb-4",children:[s==="loading"&&e.jsx(w,{className:"w-12 h-12 text-primary animate-spin"}),s==="success"&&e.jsx(y,{className:"w-12 h-12 text-green-500"}),s==="error"&&e.jsx(p,{className:"w-12 h-12 text-red-500"})]}),e.jsxs(v,{children:[s==="loading"&&"Verifying...",s==="success"&&"Success!",s==="error"&&"Verification Failed"]}),e.jsx(C,{children:h||"Please wait while we verify your email..."})]}),s==="error"&&e.jsx(u,{children:e.jsx(N,{className:"w-full",onClick:()=>c("/auth"),children:"Back to Sign In"})}),s==="success"&&e.jsx(u,{children:e.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Redirecting you now..."})})]})]})})};export{_ as default};
