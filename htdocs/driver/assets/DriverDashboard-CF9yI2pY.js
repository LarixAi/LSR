import{m as de,a1 as me,r as xe,j as e,N as T,H as b,J as o,ax as x,B as f,aP as oe,d as B,e as r,k as c,E as M,g as h,h as u,R as he,S as ue,O as je,Q as Ne,V as D,Y as k,f as P,i as v,T as L,b as fe,M as ve,W as E,bC as Y,K,n as m,C as ye}from"./main-DVuL102c.js";import{T as pe}from"./target-BxcoNXI1.js";import{A as ge}from"./award-D5hdS4i_.js";import{a as A}from"./addDays-CXxLH7jZ.js";const De=()=>{const{user:O,profile:s,loading:R}=de();me();const[z,W]=xe.useState("overview");if((s==null?void 0:s.role)!=="driver")return e.jsx(T,{to:"/dashboard",replace:!0});const{data:N={totalRoutes:0,completedRoutes:0,totalHours:0,totalMiles:0,fuelEfficiency:0,safetyScore:0,onTimeDelivery:0,customerRating:0},isLoading:w,error:Q}=b({queryKey:["driver-stats",s==null?void 0:s.id],queryFn:async()=>{if(!(s!=null&&s.id))throw new Error("No driver ID found");const{data:t}=await o.from("routes").select("*").eq("driver_id",s.id),{data:a}=await o.from("routes").select("*").eq("driver_id",s.id).eq("status","completed"),{data:n}=await o.from("time_entries").select("total_hours").eq("driver_id",s.id),{data:d}=await o.from("fuel_purchases").select("*").eq("driver_id",s.id),l=(t==null?void 0:t.length)||0,S=(a==null?void 0:a.length)||0,ae=(n==null?void 0:n.reduce((j,p)=>j+(p.total_hours||0),0))||0,le=(d==null?void 0:d.length)>0?8.2:0;let U=100;try{const{data:j}=await o.from("incidents").select("severity").eq("driver_id",s.id);if(j&&j.length>0){const p=j.filter(g=>g.severity==="critical").length,re=j.filter(g=>g.severity==="high").length,ce=j.filter(g=>g.severity==="medium").length;U=Math.max(0,100-p*20-re*10-ce*5)}}catch{console.warn("Could not fetch incidents for safety score calculation")}let $=100;a&&a.length>0&&($=100);const ie=0,ne=(t==null?void 0:t.reduce((j,p)=>j+(p.distance_km||0),0))||0;return{totalRoutes:l,completedRoutes:S,totalHours:ae,totalMiles:Math.round(ne*.621371),fuelEfficiency:le,safetyScore:U,onTimeDelivery:$,customerRating:ie}},enabled:!!(s!=null&&s.id)}),{data:_=[],isLoading:V,error:G}=b({queryKey:["driver-schedule",s==null?void 0:s.id,x(new Date,"yyyy-MM-dd")],queryFn:async()=>{if(!(s!=null&&s.id))throw new Error("No driver ID found");const t=x(new Date,"yyyy-MM-dd"),{data:a,error:n}=await o.from("routes").select(`
          id,
          name,
          start_time,
          end_time,
          destination,
          status,
          priority,
          created_at
        `).eq("driver_id",s.id).gte("start_time",t).lt("start_time",x(A(new Date,1),"yyyy-MM-dd")).order("start_time",{ascending:!0});return n?(console.error("Error fetching schedule:",n),[]):(a==null?void 0:a.map(d=>({id:d.id,time:x(new Date(d.start_time),"HH:mm"),route:d.name||"Unnamed Route",destination:d.destination||"Unknown Destination",status:d.status||"upcoming",priority:d.priority||"medium"})))||[]},enabled:!!(s!=null&&s.id)}),{data:i=null,isLoading:q,error:C}=b({queryKey:["driver-vehicle",s==null?void 0:s.id],queryFn:async()=>{if(!(s!=null&&s.id))throw new Error("No driver ID found");const{data:t}=await o.from("driver_vehicle_assignments").select("vehicle_id").eq("driver_id",s.id).eq("status","active").maybeSingle();if(!(t!=null&&t.vehicle_id))return{id:"default",vehicle_number:"No Assignment",license_plate:"N/A",make:"No Vehicle",model:"Assigned",year:0,fuel_level:0,last_maintenance:x(new Date,"yyyy-MM-dd"),next_maintenance:x(A(new Date,30),"yyyy-MM-dd"),status:"unavailable"};const{data:a,error:n}=await o.from("vehicles").select(`
          id,
          vehicle_number,
          license_plate,
          make,
          model,
          year,
          fuel_level,
          last_maintenance_date,
          next_maintenance_date,
          status
        `).eq("id",t.vehicle_id).single();return n?(console.error("Error fetching vehicle:",n),null):{id:a.id,vehicle_number:a.vehicle_number||"Unknown",license_plate:a.license_plate||"Unknown",make:a.make||"Unknown",model:a.model||"Unknown",year:a.year||0,fuel_level:a.fuel_level||0,last_maintenance:a.last_maintenance_date||x(new Date,"yyyy-MM-dd"),next_maintenance:a.next_maintenance_date||x(A(new Date,30),"yyyy-MM-dd"),status:a.status||"unknown"}},enabled:!!(s!=null&&s.id)}),{data:J=[],isLoading:X,error:Z}=b({queryKey:["driver-activity",s==null?void 0:s.id],queryFn:async()=>{if(!(s!=null&&s.id))throw new Error("No driver ID found");const t=[],{data:a}=await o.from("time_entries").select("*").eq("driver_id",s.id).order("created_at",{ascending:!1}).limit(5);a==null||a.forEach(l=>{t.push({id:`time-${l.id}`,type:"break_taken",title:l.clock_in?"Clock In":"Clock Out",description:`Time entry at ${x(new Date(l.created_at),"HH:mm")}`,timestamp:l.created_at,status:"info"})});const{data:n}=await o.from("fuel_purchases").select("*").eq("driver_id",s.id).order("created_at",{ascending:!1}).limit(3);n==null||n.forEach(l=>{t.push({id:`fuel-${l.id}`,type:"fuel_purchase",title:"Fuel Purchase",description:`Added ${l.quantity}L ${l.fuel_type} at ${l.location}`,timestamp:l.created_at,status:"info"})});const{data:d}=await o.from("vehicle_checks").select("*").eq("driver_id",s.id).order("created_at",{ascending:!1}).limit(3);return d==null||d.forEach(l=>{t.push({id:`check-${l.id}`,type:"maintenance_check",title:"Vehicle Check",description:`${l.check_type} check completed`,timestamp:l.created_at,status:l.status==="passed"||l.overall_status==="completed"?"success":"warning"})}),t.sort((l,S)=>new Date(S.timestamp).getTime()-new Date(l.timestamp).getTime()).slice(0,10)},enabled:!!(s!=null&&s.id)}),{data:y}=b({queryKey:["driver-current-time",s==null?void 0:s.id],queryFn:async()=>{if(!(s!=null&&s.id))return null;const t=x(new Date,"yyyy-MM-dd"),{data:a,error:n}=await o.from("time_entries").select("*").eq("driver_id",s.id).eq("entry_date",t).maybeSingle();return n?(console.error("Error fetching current time entry:",n),null):a},enabled:!!(s!=null&&s.id)}),ee=R||w||V||q||X,se=Q||G||C||Z;if(R)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"text-lg",children:"Loading..."})});if(!O||!s)return e.jsx(T,{to:"/auth",replace:!0});if(s.role!=="driver")return e.jsx(T,{to:"/dashboard",replace:!0});const F=t=>{switch(t){case"completed":return e.jsx(m,{variant:"default",className:"bg-green-100 text-green-800",children:"Completed"});case"in-progress":return e.jsx(m,{variant:"default",className:"bg-blue-100 text-blue-800",children:"In Progress"});case"upcoming":return e.jsx(m,{variant:"outline",children:"Upcoming"});case"delayed":return e.jsx(m,{variant:"destructive",children:"Delayed"});default:return e.jsx(m,{variant:"outline",children:t})}},H=t=>{switch(t){case"high":return e.jsx(m,{variant:"destructive",className:"text-xs",children:"High"});case"medium":return e.jsx(m,{variant:"default",className:"bg-yellow-100 text-yellow-800 text-xs",children:"Medium"});case"low":return e.jsx(m,{variant:"outline",className:"text-xs",children:"Low"});default:return e.jsx(m,{variant:"outline",className:"text-xs",children:t})}},te=t=>{switch(t){case"route_completed":return e.jsx(ye,{className:"w-4 h-4 text-green-600"});case"fuel_purchase":return e.jsx(Y,{className:"w-4 h-4 text-blue-600"});case"maintenance_check":return e.jsx(E,{className:"w-4 h-4 text-orange-600"});case"incident_reported":return e.jsx(M,{className:"w-4 h-4 text-red-600"});case"break_taken":return e.jsx(B,{className:"w-4 h-4 text-purple-600"});default:return e.jsx(K,{className:"w-4 h-4 text-gray-600"})}},I=t=>{switch(t){case"available":return e.jsx(m,{variant:"default",className:"bg-green-100 text-green-800",children:"Available"});case"in-use":return e.jsx(m,{variant:"default",className:"bg-blue-100 text-blue-800",children:"In Use"});case"maintenance":return e.jsx(m,{variant:"default",className:"bg-yellow-100 text-yellow-800",children:"Maintenance"});case"out-of-service":return e.jsx(m,{variant:"destructive",children:"Out of Service"});default:return e.jsx(m,{variant:"outline",children:t})}};return e.jsxs("div",{className:"space-y-4 p-4",children:[e.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight sm:text-3xl",children:"Driver Dashboard"}),e.jsxs("p",{className:"text-sm text-muted-foreground sm:text-base",children:["Welcome back, ",s.first_name,"! Here's your day at a glance."]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(f,{variant:"outline",size:"sm",className:"text-xs sm:text-sm",children:[e.jsx(oe,{className:"w-4 h-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Notifications"}),e.jsx("span",{className:"sm:hidden",children:"Alerts"})]}),e.jsxs(f,{size:"sm",className:"text-xs sm:text-sm",children:[e.jsx(B,{className:"w-4 h-4 mr-1 sm:mr-2"}),y!=null&&y.clock_in&&!(y!=null&&y.clock_out)?"Clock Out":"Clock In"]})]})]}),se&&e.jsx(r,{className:"border-red-200 bg-red-50",children:e.jsxs(c,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-red-800",children:[e.jsx(M,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Some data couldn't be loaded"})]}),e.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Please refresh the page or try again later."})]})}),ee&&e.jsx(r,{children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading dashboard data..."})]})})}),e.jsxs("div",{className:"grid gap-3 grid-cols-2 sm:gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(r,{className:"mobile-card",children:[e.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(u,{className:"text-xs font-medium sm:text-sm",children:"Today's Routes"}),e.jsx(he,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(c,{children:V?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-xl font-bold sm:text-2xl",children:_.length}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[_.filter(t=>t.status==="completed").length," completed"]})]})})]}),e.jsxs(r,{className:"mobile-card",children:[e.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(u,{className:"text-xs font-medium sm:text-sm",children:"Safety Score"}),e.jsx(ue,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(c,{children:w?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-xl font-bold sm:text-2xl",children:[N.safetyScore,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+2% from last week"})]})})]}),e.jsxs(r,{className:"mobile-card",children:[e.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(u,{className:"text-xs font-medium sm:text-sm",children:"On-Time Delivery"}),e.jsx(pe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(c,{children:w?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-xl font-bold sm:text-2xl",children:[N.onTimeDelivery,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Excellent performance"})]})})]}),e.jsxs(r,{className:"mobile-card",children:[e.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(u,{className:"text-xs font-medium sm:text-sm",children:"Customer Rating"}),e.jsx(ge,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(c,{children:w?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-xl font-bold sm:text-2xl",children:[N.customerRating,"/5"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Based on 45 reviews"})]})})]})]}),e.jsxs(je,{value:z,onValueChange:W,className:"space-y-4 mobile-tabs",children:[e.jsxs(Ne,{className:"grid w-full grid-cols-4 gap-1",children:[e.jsx(D,{value:"overview",className:"text-xs sm:text-sm px-1 sm:px-3 py-2",children:"Overview"}),e.jsx(D,{value:"schedule",className:"text-xs sm:text-sm px-1 sm:px-3 py-2",children:"Schedule"}),e.jsx(D,{value:"vehicle",className:"text-xs sm:text-sm px-1 sm:px-3 py-2",children:"Vehicle"}),e.jsx(D,{value:"activity",className:"text-xs sm:text-sm px-1 sm:px-3 py-2",children:"Activity"})]}),e.jsxs(k,{value:"overview",className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[e.jsxs(r,{className:"mobile-card",children:[e.jsxs(h,{children:[e.jsxs(u,{className:"flex items-center space-x-2",children:[e.jsx(P,{className:"w-5 h-5"}),e.jsx("span",{className:"text-lg sm:text-xl",children:"Today's Schedule"})]}),e.jsx(v,{className:"text-sm",children:"Your routes and tasks for today"})]}),e.jsxs(c,{className:"space-y-3",children:[_.slice(0,3).map(t=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg border",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-sm font-medium",children:t.time}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t.route}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t.destination})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[H(t.priority),F(t.status)]})]},t.id)),e.jsx(f,{variant:"outline",className:"w-full",children:"View Full Schedule"})]})]}),e.jsxs(r,{className:"mobile-card",children:[e.jsxs(h,{children:[e.jsxs(u,{className:"flex items-center space-x-2",children:[e.jsx(L,{className:"w-5 h-5"}),e.jsx("span",{className:"text-lg sm:text-xl",children:"Assigned Vehicle"})]}),e.jsx(v,{className:"text-sm",children:"Current vehicle information"})]}),e.jsx(c,{className:"space-y-4",children:q?e.jsxs("div",{className:"flex items-center justify-center space-x-2 py-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading vehicle information..."})]}):C?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(M,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-red-600",children:"Error loading vehicle"})]}):i?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Vehicle:"}),e.jsxs("span",{className:"text-sm",children:[i.make," ",i.model]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"License Plate:"}),e.jsx("span",{className:"text-sm font-mono",children:i.license_plate})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Fuel Level:"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${i.fuel_level}%`}})}),e.jsxs("span",{className:"text-sm",children:[i.fuel_level,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Status:"}),I(i.status)]}),e.jsx(f,{variant:"outline",className:"w-full",children:"View Vehicle Details"})]}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx(L,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No vehicle assigned"})]})})]})]}),e.jsxs(r,{className:"mobile-card",children:[e.jsxs(h,{children:[e.jsxs(u,{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"w-5 h-5"}),e.jsx("span",{className:"text-lg sm:text-xl",children:"Performance Metrics"})]}),e.jsx(v,{className:"text-sm",children:"Your key performance indicators"})]}),e.jsx(c,{children:e.jsxs("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:N.totalRoutes}),e.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Total Routes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-600",children:N.totalHours}),e.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Hours Driven"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-purple-600",children:N.totalMiles.toLocaleString()}),e.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Miles Driven"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-orange-600",children:N.fuelEfficiency}),e.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"MPG Average"})]})]})})]})]}),e.jsx(k,{value:"schedule",className:"space-y-4",children:e.jsxs(r,{className:"mobile-card",children:[e.jsxs(h,{children:[e.jsxs(u,{className:"flex items-center space-x-2",children:[e.jsx(P,{className:"w-5 h-5"}),e.jsx("span",{className:"text-lg sm:text-xl",children:"Today's Schedule"})]}),e.jsx(v,{className:"text-sm",children:"Your complete schedule for today"})]}),e.jsx(c,{children:e.jsx("div",{className:"space-y-3",children:_.map(t=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-3 sm:p-4 rounded-lg border",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3 sm:mb-0",children:[e.jsx("div",{className:"text-base sm:text-lg font-mono font-medium",children:t.time}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-base sm:text-lg",children:t.route}),e.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground flex items-center",children:[e.jsx(ve,{className:"w-3 h-3 mr-1"}),t.destination]})]})]}),e.jsxs("div",{className:"flex items-center justify-between sm:justify-end space-x-2",children:[e.jsxs("div",{className:"flex space-x-1",children:[H(t.priority),F(t.status)]}),e.jsxs(f,{variant:"outline",size:"sm",className:"text-xs sm:text-sm",children:[e.jsx("span",{className:"hidden sm:inline",children:"View Details"}),e.jsx("span",{className:"sm:hidden",children:"Details"})]})]})]},t.id))})})]})}),e.jsx(k,{value:"vehicle",className:"space-y-4",children:q?e.jsx(r,{children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading vehicle information..."})]})})}):C?e.jsx(r,{children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(M,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Vehicle"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Unable to load vehicle information. Please try again."})]})})}):i?e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(r,{children:[e.jsxs(h,{children:[e.jsxs(u,{className:"flex items-center space-x-2",children:[e.jsx(L,{className:"w-5 h-5"}),e.jsx("span",{children:"Vehicle Details"})]}),e.jsx(v,{children:"Complete vehicle information"})]}),e.jsx(c,{className:"space-y-4",children:e.jsxs("div",{className:"grid gap-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Vehicle Number:"}),e.jsx("span",{className:"text-sm",children:i.vehicle_number})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"License Plate:"}),e.jsx("span",{className:"text-sm font-mono",children:i.license_plate})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Make & Model:"}),e.jsxs("span",{className:"text-sm",children:[i.make," ",i.model]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Year:"}),e.jsx("span",{className:"text-sm",children:i.year})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Status:"}),I(i.status)]})]})})]}),e.jsxs(r,{children:[e.jsxs(h,{children:[e.jsxs(u,{className:"flex items-center space-x-2",children:[e.jsx(E,{className:"w-5 h-5"}),e.jsx("span",{children:"Maintenance Info"})]}),e.jsx(v,{children:"Maintenance schedule and history"})]}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Last Maintenance:"}),e.jsx("span",{className:"text-sm",children:x(new Date(i.last_maintenance),"MMM dd, yyyy")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Next Maintenance:"}),e.jsx("span",{className:"text-sm",children:x(new Date(i.next_maintenance),"MMM dd, yyyy")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Fuel Level:"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${i.fuel_level}%`}})}),e.jsxs("span",{className:"text-sm",children:[i.fuel_level,"%"]})]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(f,{variant:"outline",className:"flex-1",children:[e.jsx(E,{className:"w-4 h-4 mr-2"}),"Report Issue"]}),e.jsxs(f,{variant:"outline",className:"flex-1",children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Fuel Log"]})]})]})]})]}):e.jsx(r,{children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(L,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Vehicle Assigned"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"You don't have a vehicle assigned at the moment."})]})})})}),e.jsx(k,{value:"activity",className:"space-y-4",children:e.jsxs(r,{children:[e.jsxs(h,{children:[e.jsxs(u,{className:"flex items-center space-x-2",children:[e.jsx(K,{className:"w-5 h-5"}),e.jsx("span",{children:"Recent Activity"})]}),e.jsx(v,{children:"Your recent actions and updates"})]}),e.jsx(c,{children:e.jsx("div",{className:"space-y-4",children:J.map(t=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border",children:[e.jsx("div",{className:"mt-1",children:te(t.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:t.title}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t.description}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:x(new Date(t.timestamp),"MMM dd, yyyy HH:mm")})]})]},t.id))})})]})})]})]})};export{De as default};
