import{m as f,a1 as N,cu as b,r as p,j as e,ag as v,B as t,X as y,U as o,n as x,L as w,l as k,aC as C,P,aP as m,cv as S,aE as z,M as O,f as L,bp as M}from"./main-DVuL102c.js";import{M as B}from"./menu-D0v_UHkh.js";const _=()=>{var d;const{signOut:h,profile:s}=f(),{toast:i}=N(),u=b(),[r,n]=p.useState(!1),l=[{name:"Dashboard",href:"/parent-dashboard",icon:z},{name:"Live Tracking",href:"/parent-tracking",icon:O},{name:"Schedule",href:"/parent-schedule",icon:L},{name:"Children",href:"/parent-children",icon:o},{name:"Communication",href:"/parent-communication",icon:M},{name:"Notifications",href:"/parent-notifications",icon:m}],g=async()=>{try{await h(),i({title:"Signed out successfully",description:"You have been logged out of your account."})}catch{i({title:"Sign out failed",description:"There was an error signing out. Please try again.",variant:"destructive"})}},c=a=>u.pathname===a;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>n(!1)}),e.jsx("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ${r?"translate-x-0":"-translate-x-full"}`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(v,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Parent Portal"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Transport Management"})]})]}),e.jsx(t,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>n(!1),children:e.jsx(y,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(o,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 truncate",children:[s==null?void 0:s.first_name," ",s==null?void 0:s.last_name]}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:s==null?void 0:s.email}),e.jsx(x,{variant:"outline",className:"mt-1 text-xs",children:"Parent"})]})]})}),e.jsx("nav",{className:"flex-1 p-4 space-y-2",children:l.map(a=>{const j=a.icon;return e.jsxs(w,{to:a.href,className:`flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${c(a.href)?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>n(!1),children:[e.jsx(j,{className:"w-5 h-5"}),e.jsx("span",{children:a.name})]},a.name)})}),e.jsxs("div",{className:"p-4 border-t space-y-2",children:[e.jsxs(t,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>n(!1),children:[e.jsx(k,{className:"w-4 h-4 mr-3"}),"Settings"]}),e.jsxs(t,{variant:"ghost",size:"sm",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50",onClick:g,children:[e.jsx(C,{className:"w-4 h-4 mr-3"}),"Sign Out"]})]})]})}),e.jsxs("div",{className:"lg:pl-64",children:[e.jsx("div",{className:"sticky top-0 z-30 bg-white border-b shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(t,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>n(!0),children:e.jsx(B,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:((d=l.find(a=>c(a.href)))==null?void 0:d.name)||"Dashboard"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Welcome back, ",(s==null?void 0:s.first_name)||"Parent","!"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(t,{variant:"outline",size:"sm",children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),"Emergency Contact"]}),e.jsxs(t,{variant:"outline",size:"sm",className:"relative",children:[e.jsx(m,{className:"w-4 h-4"}),e.jsx(x,{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 text-xs",children:"3"})]})]})]})}),e.jsx("main",{className:"flex-1",children:e.jsx(S,{})})]})]})};export{_ as default};
