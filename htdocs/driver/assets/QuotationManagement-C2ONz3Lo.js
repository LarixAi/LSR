import{c as xe,m as ne,G as he,H as me,J as Y,a2 as je,r as S,j as e,N as Z,B as i,l as O,a as X,a4 as ue,as as ge,am as pe,a5 as ve,a6 as Ne,a7 as ye,a8 as fe,q as l,I as r,s as E,ab as Q,ac as D,ad as T,ae as F,af as a,t as q,e as c,k as d,at as be,C as ee,d as A,b as we,E as M,F as se,aa as Ce,O as Se,Q as Qe,V as f,Y as b,g as w,h as C,au as De,n as $,ak as ae,an as Te,v as te,D as Fe,P as Ae,f as Ve}from"./main-DVuL102c.js";import{T as Le,a as Pe,b as le,c as j,d as ze,e as u}from"./table-Jjtal2IW.js";import{T as ke}from"./target-BxcoNXI1.js";import{A as ie}from"./arrow-right-CqabBWU_.js";import{A as re}from"./award-D5hdS4i_.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=xe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Ee=()=>{const{profile:n}=ne(),V=he(),{data:x=[],isLoading:g}=me({queryKey:["quotations-data",n==null?void 0:n.organization_id],queryFn:async()=>{if(!(n!=null&&n.organization_id))return[];const{data:h,error:p}=await Y.from("quotations").select("*").eq("organization_id",n.organization_id).order("created_at",{ascending:!1});return p?(console.error("Error fetching quotations:",p),[]):h||[]},enabled:!!(n!=null&&n.organization_id)}),R=je({mutationFn:async()=>{if(!(n!=null&&n.organization_id))return;const{error:h}=await Y.from("quotations").delete().eq("organization_id",n.organization_id);if(h)throw h},onSuccess:()=>{V.invalidateQueries({queryKey:["quotations-data"]})}}),U=(()=>{const h=x.length,p=x.reduce((t,N)=>t+(N.total_amount||0),0),P=x.filter(t=>t.status==="accepted").length,_=x.filter(t=>t.status==="pending").length,I=x.filter(t=>t.status==="rejected").length,z=x.filter(t=>t.status==="draft").length,v=x.filter(t=>t.valid_until?new Date(t.valid_until)<new Date:!1).length,B=h>0?p/h:0,G=P,o=h-z,J=o>0?G/o*100:0;return{totalQuotations:h,totalValue:p,acceptedQuotes:P,pendingQuotes:_,rejectedQuotes:I,draftQuotes:z,expiredQuotes:v,averageValue:B,winRate:J,pendingValue:x.filter(t=>t.status==="pending").reduce((t,N)=>t+(N.total_amount||0),0),acceptedValue:x.filter(t=>t.status==="accepted").reduce((t,N)=>t+(N.total_amount||0),0)}})();return{quotations:x,isLoading:g,clearAllQuotations:R,stats:U,hasData:x.length>0}},Be=()=>{const{user:n,profile:V,loading:x}=ne(),[g,R]=S.useState(""),[L,U]=S.useState("all"),[h,p]=S.useState("all"),[P,_]=S.useState("all"),[I,z]=S.useState(!1),{quotations:v,isLoading:B,clearAllQuotations:G,stats:o,hasData:J}=Ee();if(x||B)return e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"}),e.jsx("p",{className:"text-lg",children:"Loading quotation management..."})]})});if(!n||!V)return e.jsx(Z,{to:"/auth",replace:!0});if(!["admin","council"].includes(V.role))return e.jsx(Z,{to:"/unauthorized",replace:!0});const t=s=>{const y={draft:"bg-gray-100 text-gray-800",sent:"bg-blue-100 text-blue-800",pending:"bg-yellow-100 text-yellow-800",accepted:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",expired:"bg-orange-100 text-orange-800",converted:"bg-emerald-100 text-emerald-800"};return e.jsx($,{className:y[s]||"bg-gray-100 text-gray-800",children:s})},N=s=>{const y={high:"bg-red-100 text-red-800",medium:"bg-yellow-100 text-yellow-800",low:"bg-green-100 text-green-800"};return e.jsx($,{className:y[s]||"bg-gray-100 text-gray-800",children:s})},ce=s=>{switch(s){case"accepted":case"converted":return e.jsx(ee,{className:"w-4 h-4 text-green-600"});case"rejected":return e.jsx(M,{className:"w-4 h-4 text-red-600"});case"expired":return e.jsx(A,{className:"w-4 h-4 text-orange-600"});case"pending":case"sent":return e.jsx(A,{className:"w-4 h-4 text-yellow-600"});default:return e.jsx(se,{className:"w-4 h-4 text-gray-600"})}},de=s=>s>=75?"text-green-600":s>=50?"text-yellow-600":s>=25?"text-orange-600":"text-red-600",H=s=>{const y=new Date(s),W=new Date,k=Math.ceil((y.getTime()-W.getTime())/(1e3*60*60*24));return k<=7&&k>0},oe=v.filter(s=>{const y=s.quoteNumber.toLowerCase().includes(g.toLowerCase())||s.customerName.toLowerCase().includes(g.toLowerCase())||s.contactPerson.toLowerCase().includes(g.toLowerCase())||s.serviceType.toLowerCase().includes(g.toLowerCase()),W=L==="all"||s.status===L,k=h==="all"||s.priority===h;return y&&W&&k}),m={totalQuotes:o.totalQuotations,totalValue:o.totalValue,acceptedValue:o.acceptedValue,pendingValue:o.pendingValue,acceptedCount:o.acceptedQuotes,pendingCount:o.pendingQuotes,rejectedCount:o.rejectedQuotes,draftCount:o.draftQuotes,expiringSoon:o.expiredQuotes,avgQuoteValue:o.averageValue,conversionRate:o.winRate};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(K,{className:"w-8 h-8 text-blue-600"}),"Quotation Management"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Create, track, and convert customer quotations"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(i,{variant:"outline",children:[e.jsx(O,{className:"w-4 h-4 mr-2"}),"Settings"]}),e.jsxs(i,{variant:"outline",children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"Analytics"]}),e.jsxs(ue,{open:I,onOpenChange:z,children:[e.jsx(ge,{asChild:!0,children:e.jsxs(i,{className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(pe,{className:"w-4 h-4 mr-2"}),"Create Quote"]})}),e.jsxs(ve,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Ne,{children:[e.jsx(ye,{children:"Create New Quotation"}),e.jsx(fe,{children:"Create a new quotation for your customers with detailed service information and pricing."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Customer Information"}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"customer-name",children:"Customer Name"}),e.jsx(r,{id:"customer-name",placeholder:"Company or individual name"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"contact-person",children:"Contact Person"}),e.jsx(r,{id:"contact-person",placeholder:"Primary contact name"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"email",children:"Email Address"}),e.jsx(r,{id:"email",type:"email",placeholder:"contact@company.com"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"phone",children:"Phone Number"}),e.jsx(r,{id:"phone",placeholder:"+44 20 1234 5678"})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"address",children:"Address"}),e.jsx(E,{id:"address",placeholder:"Full address",rows:3})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Quote Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"quote-number",children:"Quote Number"}),e.jsx(r,{id:"quote-number",placeholder:"QUO-2024-XXX"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"service-type",children:"Service Type"}),e.jsxs(Q,{children:[e.jsx(D,{children:e.jsx(T,{placeholder:"Select service type"})}),e.jsxs(F,{children:[e.jsx(a,{value:"school",children:"School Transport"}),e.jsx(a,{value:"medical",children:"Medical Transport"}),e.jsx(a,{value:"corporate",children:"Corporate Shuttle"}),e.jsx(a,{value:"charter",children:"Charter Service"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"passengers",children:"Passengers"}),e.jsx(r,{id:"passengers",type:"number",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"duration",children:"Duration"}),e.jsx(r,{id:"duration",placeholder:"e.g., 6 months"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"frequency",children:"Frequency"}),e.jsx(r,{id:"frequency",placeholder:"e.g., Daily"})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"valid-until",children:"Valid Until"}),e.jsx(r,{id:"valid-until",type:"date"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"priority",children:"Priority"}),e.jsxs(Q,{children:[e.jsx(D,{children:e.jsx(T,{placeholder:"Select priority"})}),e.jsxs(F,{children:[e.jsx(a,{value:"low",children:"Low"}),e.jsx(a,{value:"medium",children:"Medium"}),e.jsx(a,{value:"high",children:"High"})]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Service Details"}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"description",children:"Service Description"}),e.jsx(E,{id:"description",placeholder:"Detailed description of services",rows:3})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"route-details",children:"Route Details"}),e.jsx(E,{id:"route-details",placeholder:"Route information, pickup points, etc.",rows:2})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Pricing"}),e.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"base-amount",children:"Base Amount (£)"}),e.jsx(r,{id:"base-amount",type:"number",step:"0.01",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"discount",children:"Discount (£)"}),e.jsx(r,{id:"discount",type:"number",step:"0.01",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"vat-rate",children:"VAT Rate (%)"}),e.jsx(r,{id:"vat-rate",type:"number",step:"0.01",placeholder:"20.00"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"vat-amount",children:"VAT Amount (£)"}),e.jsx(r,{id:"vat-amount",type:"number",step:"0.01",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"total-amount",children:"Total Amount (£)"}),e.jsx(r,{id:"total-amount",type:"number",step:"0.01",placeholder:"0.00"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"probability",children:"Win Probability (%)"}),e.jsx(r,{id:"probability",type:"number",min:"0",max:"100",placeholder:"50"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"competitor-quotes",children:"Competitor Quotes"}),e.jsx(r,{id:"competitor-quotes",type:"number",min:"0",placeholder:"0"})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"notes",children:"Notes & Special Requirements"}),e.jsx(E,{id:"notes",placeholder:"Additional information, terms, conditions...",rows:3})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(i,{className:"flex-1 bg-gray-600 hover:bg-gray-700",children:"Save as Draft"}),e.jsxs(i,{className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"Send Quote"]}),e.jsx(i,{className:"flex-1 bg-green-600 hover:bg-green-700",children:"Save & Follow Up"})]})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-8 gap-6",children:[e.jsx(c,{className:"lg:col-span-2",children:e.jsx(d,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(K,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Quotes"}),e.jsx("p",{className:"text-2xl font-bold",children:m.totalQuotes})]})]})})}),e.jsx(c,{className:"lg:col-span-2",children:e.jsx(d,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(be,{className:"w-8 h-8 text-emerald-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Value"}),e.jsxs("p",{className:"text-2xl font-bold",children:["£",m.totalValue.toLocaleString()]})]})]})})}),e.jsx(c,{className:"lg:col-span-2",children:e.jsx(d,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ee,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Won Value"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["£",m.acceptedValue.toLocaleString()]})]})]})})}),e.jsx(c,{className:"lg:col-span-2",children:e.jsx(d,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(A,{className:"w-8 h-8 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pending Value"}),e.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:["£",m.pendingValue.toLocaleString()]})]})]})})}),e.jsx(c,{className:"lg:col-span-2",children:e.jsx(d,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ke,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Conversion Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[m.conversionRate.toFixed(1),"%"]})]})]})})}),e.jsx(c,{className:"lg:col-span-2",children:e.jsx(d,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(we,{className:"w-8 h-8 text-indigo-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Avg Quote Value"}),e.jsxs("p",{className:"text-2xl font-bold text-indigo-600",children:["£",m.avgQuoteValue.toLocaleString(void 0,{maximumFractionDigits:0})]})]})]})})}),e.jsx(c,{className:"lg:col-span-2",children:e.jsx(d,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(M,{className:"w-8 h-8 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Expiring Soon"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:m.expiringSoon})]})]})})}),e.jsx(c,{className:"lg:col-span-2",children:e.jsx(d,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(se,{className:"w-8 h-8 text-gray-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Draft Quotes"}),e.jsx("p",{className:"text-2xl font-bold text-gray-600",children:m.draftCount})]})]})})})]}),e.jsx(c,{children:e.jsxs(d,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Quote Conversion Performance"}),e.jsx("p",{className:"text-gray-600",children:"Current quote-to-win conversion rate"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[m.conversionRate.toFixed(1),"%"]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[m.acceptedCount," of ",v.filter(s=>s.status!=="draft").length," quotes won"]})]})]}),e.jsx(Ce,{value:m.conversionRate,className:"h-3"})]})}),e.jsxs(Se,{defaultValue:"quotes",className:"space-y-6",children:[e.jsxs(Qe,{className:"grid w-full grid-cols-6",children:[e.jsx(f,{value:"quotes",children:"All Quotes"}),e.jsx(f,{value:"pending",children:"Pending"}),e.jsx(f,{value:"expiring",children:"Expiring"}),e.jsx(f,{value:"won",children:"Won"}),e.jsx(f,{value:"analytics",children:"Analytics"}),e.jsx(f,{value:"settings",children:"Settings"})]}),e.jsx(b,{value:"quotes",className:"space-y-4",children:e.jsxs(c,{children:[e.jsxs(w,{children:[e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5"}),"Quotation Management"]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(De,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(r,{placeholder:"Search quotes, customers...",value:g,onChange:s=>R(s.target.value),className:"pl-10 w-64"})]}),e.jsxs(Q,{value:L,onValueChange:U,children:[e.jsx(D,{className:"w-40",children:e.jsx(T,{})}),e.jsxs(F,{children:[e.jsx(a,{value:"all",children:"All Status"}),e.jsx(a,{value:"draft",children:"Draft"}),e.jsx(a,{value:"sent",children:"Sent"}),e.jsx(a,{value:"pending",children:"Pending"}),e.jsx(a,{value:"accepted",children:"Accepted"}),e.jsx(a,{value:"rejected",children:"Rejected"}),e.jsx(a,{value:"expired",children:"Expired"}),e.jsx(a,{value:"converted",children:"Converted"})]})]}),e.jsxs(Q,{value:h,onValueChange:p,children:[e.jsx(D,{className:"w-40",children:e.jsx(T,{})}),e.jsxs(F,{children:[e.jsx(a,{value:"all",children:"All Priority"}),e.jsx(a,{value:"high",children:"High"}),e.jsx(a,{value:"medium",children:"Medium"}),e.jsx(a,{value:"low",children:"Low"})]})]}),e.jsxs(Q,{value:P,onValueChange:_,children:[e.jsx(D,{className:"w-40",children:e.jsx(T,{})}),e.jsxs(F,{children:[e.jsx(a,{value:"all",children:"All Time"}),e.jsx(a,{value:"today",children:"Today"}),e.jsx(a,{value:"week",children:"This Week"}),e.jsx(a,{value:"month",children:"This Month"}),e.jsx(a,{value:"quarter",children:"This Quarter"})]})]})]})]}),e.jsx(d,{children:e.jsxs(Le,{children:[e.jsx(Pe,{children:e.jsxs(le,{children:[e.jsx(j,{children:"Quote"}),e.jsx(j,{children:"Customer"}),e.jsx(j,{children:"Service"}),e.jsx(j,{children:"Value"}),e.jsx(j,{children:"Status"}),e.jsx(j,{children:"Priority"}),e.jsx(j,{children:"Win %"}),e.jsx(j,{children:"Valid Until"}),e.jsx(j,{children:"Actions"})]})}),e.jsx(ze,{children:oe.map(s=>e.jsxs(le,{className:"hover:bg-gray-50",children:[e.jsx(u,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[ce(s.status),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.quoteNumber}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Created: ",new Date(s.createdDate).toLocaleDateString()]})]})]})}),e.jsx(u,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.customerName}),e.jsx("p",{className:"text-sm text-gray-500",children:s.contactPerson})]})}),e.jsx(u,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.serviceType}),e.jsxs("p",{className:"text-sm text-gray-500",children:[s.passengers," pax • ",s.frequency]})]})}),e.jsx(u,{children:e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold",children:["£",s.totalAmount.toLocaleString()]}),s.discountAmount>0&&e.jsxs("p",{className:"text-sm text-green-600",children:["-£",s.discountAmount.toFixed(2)," discount"]})]})}),e.jsx(u,{children:t(s.status)}),e.jsx(u,{children:N(s.priority)}),e.jsx(u,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:`font-medium ${de(s.estimatedProbability)}`,children:[s.estimatedProbability,"%"]}),s.competitorQuotes>0&&e.jsxs($,{variant:"outline",className:"text-xs",children:[s.competitorQuotes," comp"]})]})}),e.jsx(u,{children:e.jsxs("div",{className:`${H(s.validUntil)?"text-orange-600 font-medium":""}`,children:[new Date(s.validUntil).toLocaleDateString(),H(s.validUntil)&&e.jsx("p",{className:"text-xs text-orange-600",children:"Expiring soon!"})]})}),e.jsx(u,{children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(i,{variant:"outline",size:"sm",title:"View Quote",children:e.jsx(ae,{className:"w-4 h-4"})}),e.jsx(i,{variant:"outline",size:"sm",title:"Edit Quote",children:e.jsx(Te,{className:"w-4 h-4"})}),e.jsx(i,{variant:"outline",size:"sm",title:"Send Email",children:e.jsx(te,{className:"w-4 h-4"})}),e.jsx(i,{variant:"outline",size:"sm",title:"Download PDF",children:e.jsx(Fe,{className:"w-4 h-4"})}),s.status==="accepted"&&e.jsx(i,{variant:"outline",size:"sm",title:"Convert to Invoice",className:"bg-green-50",children:e.jsx(ie,{className:"w-4 h-4"})})]})})]},s.id))})]})})]})}),e.jsx(b,{value:"pending",className:"space-y-4",children:e.jsxs(c,{children:[e.jsx(w,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"w-5 h-5 text-yellow-600"}),"Pending Quotes"]})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-4",children:v.filter(s=>s.status==="pending"||s.status==="sent").map(s=>e.jsx("div",{className:"border border-yellow-200 rounded-lg p-4 bg-yellow-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(A,{className:"w-6 h-6 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:s.quoteNumber}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.customerName," • ",s.contactPerson]}),e.jsxs("p",{className:"text-sm text-yellow-600",children:["Win probability: ",s.estimatedProbability,"%",s.followUpDate&&` • Follow up: ${new Date(s.followUpDate).toLocaleDateString()}`]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold",children:["£",s.totalAmount.toLocaleString()]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Expires: ",new Date(s.validUntil).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(i,{size:"sm",variant:"outline",children:[e.jsx(te,{className:"w-4 h-4 mr-2"}),"Follow Up"]}),e.jsxs(i,{size:"sm",className:"bg-yellow-600 hover:bg-yellow-700",children:[e.jsx(Ae,{className:"w-4 h-4 mr-2"}),"Call"]})]})]})},s.id))})})]})}),e.jsx(b,{value:"expiring",className:"space-y-4",children:e.jsxs(c,{children:[e.jsx(w,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(M,{className:"w-5 h-5 text-orange-600"}),"Expiring Quotes"]})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-4",children:v.filter(s=>H(s.validUntil)).map(s=>e.jsx("div",{className:"border border-orange-200 rounded-lg p-4 bg-orange-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(M,{className:"w-6 h-6 text-orange-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:s.quoteNumber}),e.jsx("p",{className:"text-sm text-gray-600",children:s.customerName}),e.jsxs("p",{className:"text-sm text-orange-600",children:["Expires in ",Math.ceil((new Date(s.validUntil).getTime()-Date.now())/(1e3*60*60*24))," days"]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-lg font-bold",children:["£",s.totalAmount.toLocaleString()]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(i,{size:"sm",variant:"outline",children:[e.jsx(Ve,{className:"w-4 h-4 mr-2"}),"Extend"]}),e.jsxs(i,{size:"sm",className:"bg-orange-600 hover:bg-orange-700",children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"Urgent Follow Up"]})]})]})},s.id))})})]})}),e.jsx(b,{value:"won",className:"space-y-4",children:e.jsxs(c,{children:[e.jsx(w,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(re,{className:"w-5 h-5 text-green-600"}),"Won Quotes"]})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-4",children:v.filter(s=>s.status==="accepted"||s.status==="converted").map(s=>e.jsx("div",{className:"border border-green-200 rounded-lg p-4 bg-green-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(re,{className:"w-6 h-6 text-green-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:s.quoteNumber}),e.jsx("p",{className:"text-sm text-gray-600",children:s.customerName}),e.jsxs("p",{className:"text-sm text-green-600",children:["Accepted: ",s.acceptedDate?new Date(s.acceptedDate).toLocaleDateString():"N/A",s.status==="converted"&&s.invoiceId&&e.jsxs("span",{children:[" • Invoice: ",s.invoiceId]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold text-green-600",children:["£",s.totalAmount.toLocaleString()]}),e.jsx("p",{className:"text-sm text-gray-600",children:s.serviceType})]}),e.jsxs("div",{className:"flex gap-2",children:[s.status==="accepted"&&e.jsxs(i,{size:"sm",className:"bg-green-600 hover:bg-green-700",children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),"Create Invoice"]}),s.status==="converted"&&e.jsxs(i,{size:"sm",variant:"outline",children:[e.jsx(ae,{className:"w-4 h-4 mr-2"}),"View Invoice"]})]})]})},s.id))})})]})}),e.jsx(b,{value:"analytics",className:"space-y-4",children:e.jsxs(c,{children:[e.jsx(w,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-5 h-5"}),"Quotation Analytics"]})}),e.jsx(d,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(X,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Advanced Quote Analytics"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Detailed analytics on conversion rates, win/loss analysis, and revenue forecasting."}),e.jsx(i,{className:"bg-blue-600 hover:bg-blue-700",children:"View Analytics Dashboard"})]})})]})}),e.jsx(b,{value:"settings",className:"space-y-4",children:e.jsxs(c,{children:[e.jsx(w,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(O,{className:"w-5 h-5"}),"Quotation Settings"]})}),e.jsx(d,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(O,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Quote Configuration"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Configure quote templates, approval workflows, and automated follow-ups."}),e.jsx(i,{className:"bg-blue-600 hover:bg-blue-700",children:"Configure Settings"})]})})]})})]})]})};export{Be as default};
