import{c as D,q as B,r as y,j as e,N as k,bm as G,B as t,o as C,D as Z,b as _,d as W,e as Y,f as J,Y as r,I as A,i as c,n,K as Q,v as X,S as $,k as o,l as j,ac as ee,a0 as se,E as p,h as b}from"./main-piTIAPSx.js";import{S as ae,a as te,b as ie,c as le,d as h}from"./select-Brm_N20Q.js";import{T as S,a as P,b as u,c as i,d as R,e as l}from"./table-CV1HM_JF.js";import{T as re,a as ce,b as g,c as v}from"./tabs-N5TLptOb.js";import{P as ne}from"./plus-CMGcTuiR.js";import{C as de}from"./circle-check-big-CD0jvDn0.js";import{C as xe}from"./copy-BKc1aBN8.js";import{S as he}from"./square-pen-DnuZJKej.js";import{R as me}from"./refresh-cw-BS9rbMP7.js";import{T as oe}from"./trash-2-CMjiaIVh.js";import"./index-Pp_niZQ8.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=D("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=D("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),ke=()=>{const{user:E,profile:f,loading:L}=B(),[U,q]=y.useState("keys"),[F,H]=y.useState(!1),[w,z]=y.useState({});if(L)return e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"}),e.jsx("p",{className:"text-lg",children:"Loading API management..."})]})});if(!E||!f)return e.jsx(k,{to:"/auth",replace:!0});if(f.role!=="admin")return e.jsx(k,{to:"/unauthorized",replace:!0});const m=[{id:"key-001",name:"Mobile App Integration",key:"lsr_live_1234567890abcdef1234567890abcdef",status:"active",permissions:["read:vehicles","read:drivers","write:tracking"],lastUsed:"2024-01-16T14:30:00Z",createdAt:"2024-01-01T10:00:00Z",expiresAt:"2024-12-31T23:59:59Z",usageCount:15420,rateLimit:1e3},{id:"key-002",name:"Third-party GPS Provider",key:"lsr_live_abcdef1234567890abcdef1234567890",status:"active",permissions:["read:tracking","write:locations"],lastUsed:"2024-01-16T15:45:00Z",createdAt:"2024-01-15T09:30:00Z",usageCount:8943,rateLimit:500},{id:"key-003",name:"Analytics Dashboard",key:"lsr_test_fedcba0987654321fedcba0987654321",status:"inactive",permissions:["read:analytics","read:reports"],lastUsed:"2024-01-10T11:20:00Z",createdAt:"2024-01-10T11:00:00Z",usageCount:245,rateLimit:100}],d=[{id:"endpoint-001",name:"Get Vehicles",method:"GET",path:"/api/v1/vehicles",description:"Retrieve list of all vehicles",status:"active",responseTime:45,successRate:99.8,lastHour:142},{id:"endpoint-002",name:"Update Vehicle Location",method:"POST",path:"/api/v1/vehicles/{id}/location",description:"Update real-time vehicle location",status:"active",responseTime:23,successRate:99.9,lastHour:1847},{id:"endpoint-003",name:"Get Driver Status",method:"GET",path:"/api/v1/drivers/{id}/status",description:"Get current driver availability status",status:"active",responseTime:38,successRate:98.7,lastHour:543},{id:"endpoint-004",name:"Create Route",method:"POST",path:"/api/v1/routes",description:"Create a new transportation route",status:"maintenance",responseTime:156,successRate:95.2,lastHour:23}],T=s=>{const a={active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",expired:"bg-red-100 text-red-800",maintenance:"bg-yellow-100 text-yellow-800",deprecated:"bg-orange-100 text-orange-800"};return e.jsx(p,{className:a[s]||"bg-gray-100 text-gray-800",children:s})},K=s=>{const a={GET:"bg-blue-100 text-blue-800",POST:"bg-green-100 text-green-800",PUT:"bg-orange-100 text-orange-800",DELETE:"bg-red-100 text-red-800"};return e.jsx(p,{className:a[s]||"bg-gray-100 text-gray-800",children:s})},M=s=>{z(a=>({...a,[s]:!a[s]}))},O=s=>s.substring(0,12)+"•••••••••••••••••••••••••••••••••",V=s=>{navigator.clipboard.writeText(s)},x={totalKeys:m.length,activeKeys:m.filter(s=>s.status==="active").length,totalRequests:m.reduce((s,a)=>s+a.usageCount,0),activeEndpoints:d.filter(s=>s.status==="active").length,avgResponseTime:Math.round(d.reduce((s,a)=>s+a.responseTime,0)/d.length),avgSuccessRate:Math.round(d.reduce((s,a)=>s+a.successRate,0)/d.length*10)/10};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(G,{className:"w-8 h-8 text-purple-600"}),"API Management"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage API keys, endpoints, and integration settings"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(t,{variant:"outline",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Settings"]}),e.jsxs(Z,{open:F,onOpenChange:H,children:[e.jsx(_,{asChild:!0,children:e.jsxs(t,{className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(ne,{className:"w-4 h-4 mr-2"}),"Create API Key"]})}),e.jsxs(W,{className:"max-w-2xl",children:[e.jsx(Y,{children:e.jsx(J,{children:"Create New API Key"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"key-name",children:"Key Name"}),e.jsx(A,{id:"key-name",placeholder:"Enter a descriptive name"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"permissions",children:"Permissions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"read-vehicles"}),e.jsx(r,{htmlFor:"read-vehicles",children:"Read Vehicles"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"write-vehicles"}),e.jsx(r,{htmlFor:"write-vehicles",children:"Write Vehicles"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"read-drivers"}),e.jsx(r,{htmlFor:"read-drivers",children:"Read Drivers"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"read-tracking"}),e.jsx(r,{htmlFor:"read-tracking",children:"Read Tracking"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"write-tracking"}),e.jsx(r,{htmlFor:"write-tracking",children:"Write Tracking"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"read-analytics"}),e.jsx(r,{htmlFor:"read-analytics",children:"Read Analytics"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"rate-limit",children:"Rate Limit (requests/hour)"}),e.jsxs(ae,{children:[e.jsx(te,{children:e.jsx(ie,{placeholder:"Select rate limit"})}),e.jsxs(le,{children:[e.jsx(h,{value:"100",children:"100 requests/hour"}),e.jsx(h,{value:"500",children:"500 requests/hour"}),e.jsx(h,{value:"1000",children:"1,000 requests/hour"}),e.jsx(h,{value:"5000",children:"5,000 requests/hour"}),e.jsx(h,{value:"unlimited",children:"Unlimited"})]})]})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"expiry",children:"Expiry Date (Optional)"}),e.jsx(A,{id:"expiry",type:"date"})]}),e.jsx(t,{className:"w-full bg-purple-600 hover:bg-purple-700",children:"Create API Key"})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-6",children:[e.jsx(c,{children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(I,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Keys"}),e.jsx("p",{className:"text-2xl font-bold",children:x.totalKeys})]})]})})}),e.jsx(c,{children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(de,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Active Keys"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:x.activeKeys})]})]})})}),e.jsx(c,{children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Q,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Requests"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:x.totalRequests.toLocaleString()})]})]})})}),e.jsx(c,{children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(N,{className:"w-8 h-8 text-emerald-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Active Endpoints"}),e.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:x.activeEndpoints})]})]})})}),e.jsx(c,{children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(X,{className:"w-8 h-8 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Avg Response"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[x.avgResponseTime,"ms"]})]})]})})}),e.jsx(c,{children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($,{className:"w-8 h-8 text-indigo-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Success Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-indigo-600",children:[x.avgSuccessRate,"%"]})]})]})})})]}),e.jsxs(re,{value:U,onValueChange:q,className:"space-y-6",children:[e.jsxs(ce,{className:"grid w-full grid-cols-4",children:[e.jsx(g,{value:"keys",children:"API Keys"}),e.jsx(g,{value:"endpoints",children:"Endpoints"}),e.jsx(g,{value:"analytics",children:"Analytics"}),e.jsx(g,{value:"docs",children:"Documentation"})]}),e.jsx(v,{value:"keys",className:"space-y-4",children:e.jsxs(c,{children:[e.jsx(o,{children:e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(I,{className:"w-5 h-5"}),"API Keys Management"]})}),e.jsx(n,{children:e.jsxs(S,{children:[e.jsx(P,{children:e.jsxs(u,{children:[e.jsx(i,{children:"Name"}),e.jsx(i,{children:"API Key"}),e.jsx(i,{children:"Status"}),e.jsx(i,{children:"Permissions"}),e.jsx(i,{children:"Usage"}),e.jsx(i,{children:"Last Used"}),e.jsx(i,{children:"Actions"})]})}),e.jsx(R,{children:m.map(s=>e.jsxs(u,{children:[e.jsx(l,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Rate: ",s.rateLimit,"/hour"]})]})}),e.jsx(l,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:w[s.id]?s.key:O(s.key)}),e.jsx(t,{variant:"outline",size:"sm",onClick:()=>M(s.id),children:w[s.id]?e.jsx(ee,{className:"w-4 h-4"}):e.jsx(se,{className:"w-4 h-4"})}),e.jsx(t,{variant:"outline",size:"sm",onClick:()=>V(s.key),children:e.jsx(xe,{className:"w-4 h-4"})})]})}),e.jsx(l,{children:T(s.status)}),e.jsx(l,{children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.permissions.slice(0,2).map(a=>e.jsx(p,{variant:"outline",className:"text-xs",children:a},a)),s.permissions.length>2&&e.jsxs(p,{variant:"outline",className:"text-xs",children:["+",s.permissions.length-2]})]})}),e.jsx(l,{children:e.jsx("span",{className:"font-medium",children:s.usageCount.toLocaleString()})}),e.jsx(l,{children:e.jsx("span",{className:"text-sm",children:new Date(s.lastUsed).toLocaleDateString()})}),e.jsx(l,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(t,{variant:"outline",size:"sm",children:e.jsx(he,{className:"w-4 h-4"})}),e.jsx(t,{variant:"outline",size:"sm",children:e.jsx(me,{className:"w-4 h-4"})}),e.jsx(t,{variant:"outline",size:"sm",children:e.jsx(oe,{className:"w-4 h-4"})})]})})]},s.id))})]})})]})}),e.jsx(v,{value:"endpoints",className:"space-y-4",children:e.jsxs(c,{children:[e.jsx(o,{children:e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-5 h-5"}),"API Endpoints"]})}),e.jsx(n,{children:e.jsxs(S,{children:[e.jsx(P,{children:e.jsxs(u,{children:[e.jsx(i,{children:"Endpoint"}),e.jsx(i,{children:"Method"}),e.jsx(i,{children:"Status"}),e.jsx(i,{children:"Performance"}),e.jsx(i,{children:"Usage (Last Hour)"}),e.jsx(i,{children:"Actions"})]})}),e.jsx(R,{children:d.map(s=>e.jsxs(u,{children:[e.jsx(l,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsx("code",{className:"text-sm text-gray-600",children:s.path}),e.jsx("p",{className:"text-xs text-gray-500",children:s.description})]})}),e.jsx(l,{children:K(s.method)}),e.jsx(l,{children:T(s.status)}),e.jsx(l,{children:e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium",children:[s.responseTime,"ms"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s.successRate,"% success"]})]})}),e.jsx(l,{children:e.jsx("span",{className:"font-medium",children:s.lastHour})}),e.jsx(l,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(t,{variant:"outline",size:"sm",children:e.jsx(b,{className:"w-4 h-4"})}),e.jsx(t,{variant:"outline",size:"sm",children:e.jsx(C,{className:"w-4 h-4"})})]})})]},s.id))})]})})]})}),e.jsx(v,{value:"analytics",className:"space-y-4",children:e.jsxs(c,{children:[e.jsx(o,{children:e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-5 h-5"}),"API Analytics"]})}),e.jsx(n,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(b,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"API Usage Analytics"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Detailed analytics on API usage, performance metrics, and error tracking."}),e.jsx(t,{className:"bg-purple-600 hover:bg-purple-700",children:"View Analytics Dashboard"})]})})]})}),e.jsx(v,{value:"docs",className:"space-y-4",children:e.jsxs(c,{children:[e.jsx(o,{children:e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-5 h-5"}),"API Documentation"]})}),e.jsx(n,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(N,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Interactive API Documentation"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Comprehensive API documentation with interactive examples and testing tools."}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(t,{className:"bg-purple-600 hover:bg-purple-700",children:"View Documentation"}),e.jsx(t,{variant:"outline",children:"Download OpenAPI Spec"})]})]})})]})})]})]})};export{ke as default};
