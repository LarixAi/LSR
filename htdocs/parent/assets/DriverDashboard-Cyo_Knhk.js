import{q as de,a as me,r as xe,j as e,N as S,s as o,B as v,p as oe,v as B,i as l,n as c,H as M,k as h,l as u,R as he,S as ue,C as P,m as N,T as k,O as je,M as fe,W as E,az as K,K as O,E as m}from"./main-piTIAPSx.js";import{T as ve,a as Ne,b as D,c as L}from"./tabs-N5TLptOb.js";import{u as w}from"./useQuery-Dbdyc74j.js";import{a as R}from"./addDays-BrXT1AzW.js";import{T as ye}from"./target-CwAJPPi1.js";import{A as ge}from"./award-_zpSLze8.js";import{C as pe}from"./circle-check-big-CD0jvDn0.js";import{f as x}from"./format-VbeFDANp.js";const Te=()=>{const{user:Y,profile:s,loading:A}=de();me();const[z,W]=xe.useState("overview");if((s==null?void 0:s.role)!=="driver")return e.jsx(S,{to:"/dashboard",replace:!0});const{data:f={totalRoutes:0,completedRoutes:0,totalHours:0,totalMiles:0,fuelEfficiency:0,safetyScore:0,onTimeDelivery:0,customerRating:0},isLoading:b,error:G}=w({queryKey:["driver-stats",s==null?void 0:s.id],queryFn:async()=>{if(!(s!=null&&s.id))throw new Error("No driver ID found");const{data:t}=await o.from("routes").select("*").eq("driver_id",s.id),{data:a}=await o.from("routes").select("*").eq("driver_id",s.id).eq("status","completed"),{data:r}=await o.from("time_entries").select("total_hours").eq("driver_id",s.id),{data:d}=await o.from("fuel_purchases").select("*").eq("driver_id",s.id),i=(t==null?void 0:t.length)||0,C=(a==null?void 0:a.length)||0,ae=(r==null?void 0:r.reduce((j,g)=>j+(g.total_hours||0),0))||0,ie=(d==null?void 0:d.length)>0?8.2:0;let U=100;try{const{data:j}=await o.from("incidents").select("severity").eq("driver_id",s.id);if(j&&j.length>0){const g=j.filter(p=>p.severity==="critical").length,le=j.filter(p=>p.severity==="high").length,ce=j.filter(p=>p.severity==="medium").length;U=Math.max(0,100-g*20-le*10-ce*5)}}catch{console.warn("Could not fetch incidents for safety score calculation")}let $=100;a&&a.length>0&&($=100);const ne=0,re=(t==null?void 0:t.reduce((j,g)=>j+(g.distance_km||0),0))||0;return{totalRoutes:i,completedRoutes:C,totalHours:ae,totalMiles:Math.round(re*.621371),fuelEfficiency:ie,safetyScore:U,onTimeDelivery:$,customerRating:ne}},enabled:!!(s!=null&&s.id)}),{data:_=[],isLoading:F,error:Q}=w({queryKey:["driver-schedule",s==null?void 0:s.id,x(new Date,"yyyy-MM-dd")],queryFn:async()=>{if(!(s!=null&&s.id))throw new Error("No driver ID found");const t=x(new Date,"yyyy-MM-dd"),{data:a,error:r}=await o.from("routes").select(`
          id,
          name,
          start_time,
          end_time,
          destination,
          status,
          priority,
          created_at
        `).eq("driver_id",s.id).gte("start_time",t).lt("start_time",x(R(new Date,1),"yyyy-MM-dd")).order("start_time",{ascending:!0});return r?(console.error("Error fetching schedule:",r),[]):(a==null?void 0:a.map(d=>({id:d.id,time:x(new Date(d.start_time),"HH:mm"),route:d.name||"Unnamed Route",destination:d.destination||"Unknown Destination",status:d.status||"upcoming",priority:d.priority||"medium"})))||[]},enabled:!!(s!=null&&s.id)}),{data:n=null,isLoading:q,error:T}=w({queryKey:["driver-vehicle",s==null?void 0:s.id],queryFn:async()=>{if(!(s!=null&&s.id))throw new Error("No driver ID found");const{data:t}=await o.from("driver_vehicle_assignments").select("vehicle_id").eq("driver_id",s.id).eq("status","active").maybeSingle();if(!(t!=null&&t.vehicle_id))return{id:"default",vehicle_number:"No Assignment",license_plate:"N/A",make:"No Vehicle",model:"Assigned",year:0,fuel_level:0,last_maintenance:x(new Date,"yyyy-MM-dd"),next_maintenance:x(R(new Date,30),"yyyy-MM-dd"),status:"unavailable"};const{data:a,error:r}=await o.from("vehicles").select(`
          id,
          vehicle_number,
          license_plate,
          make,
          model,
          year,
          fuel_level,
          last_maintenance_date,
          next_maintenance_date,
          status
        `).eq("id",t.vehicle_id).single();return r?(console.error("Error fetching vehicle:",r),null):{id:a.id,vehicle_number:a.vehicle_number||"Unknown",license_plate:a.license_plate||"Unknown",make:a.make||"Unknown",model:a.model||"Unknown",year:a.year||0,fuel_level:a.fuel_level||0,last_maintenance:a.last_maintenance_date||x(new Date,"yyyy-MM-dd"),next_maintenance:a.next_maintenance_date||x(R(new Date,30),"yyyy-MM-dd"),status:a.status||"unknown"}},enabled:!!(s!=null&&s.id)}),{data:J=[],isLoading:X,error:Z}=w({queryKey:["driver-activity",s==null?void 0:s.id],queryFn:async()=>{if(!(s!=null&&s.id))throw new Error("No driver ID found");const t=[],{data:a}=await o.from("time_entries").select("*").eq("driver_id",s.id).order("created_at",{ascending:!1}).limit(5);a==null||a.forEach(i=>{t.push({id:`time-${i.id}`,type:"break_taken",title:i.clock_in?"Clock In":"Clock Out",description:`Time entry at ${x(new Date(i.created_at),"HH:mm")}`,timestamp:i.created_at,status:"info"})});const{data:r}=await o.from("fuel_purchases").select("*").eq("driver_id",s.id).order("created_at",{ascending:!1}).limit(3);r==null||r.forEach(i=>{t.push({id:`fuel-${i.id}`,type:"fuel_purchase",title:"Fuel Purchase",description:`Added ${i.quantity}L ${i.fuel_type} at ${i.location}`,timestamp:i.created_at,status:"info"})});const{data:d}=await o.from("vehicle_checks").select("*").eq("driver_id",s.id).order("created_at",{ascending:!1}).limit(3);return d==null||d.forEach(i=>{t.push({id:`check-${i.id}`,type:"maintenance_check",title:"Vehicle Check",description:`${i.check_type} check completed`,timestamp:i.created_at,status:i.status==="passed"||i.overall_status==="completed"?"success":"warning"})}),t.sort((i,C)=>new Date(C.timestamp).getTime()-new Date(i.timestamp).getTime()).slice(0,10)},enabled:!!(s!=null&&s.id)}),{data:y}=w({queryKey:["driver-current-time",s==null?void 0:s.id],queryFn:async()=>{if(!(s!=null&&s.id))return null;const t=x(new Date,"yyyy-MM-dd"),{data:a,error:r}=await o.from("time_entries").select("*").eq("driver_id",s.id).eq("entry_date",t).maybeSingle();return r?(console.error("Error fetching current time entry:",r),null):a},enabled:!!(s!=null&&s.id)}),ee=A||b||F||q||X,se=G||Q||T||Z;if(A)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"text-lg",children:"Loading..."})});if(!Y||!s)return e.jsx(S,{to:"/auth",replace:!0});if(s.role!=="driver")return e.jsx(S,{to:"/dashboard",replace:!0});const V=t=>{switch(t){case"completed":return e.jsx(m,{variant:"default",className:"bg-green-100 text-green-800",children:"Completed"});case"in-progress":return e.jsx(m,{variant:"default",className:"bg-blue-100 text-blue-800",children:"In Progress"});case"upcoming":return e.jsx(m,{variant:"outline",children:"Upcoming"});case"delayed":return e.jsx(m,{variant:"destructive",children:"Delayed"});default:return e.jsx(m,{variant:"outline",children:t})}},I=t=>{switch(t){case"high":return e.jsx(m,{variant:"destructive",className:"text-xs",children:"High"});case"medium":return e.jsx(m,{variant:"default",className:"bg-yellow-100 text-yellow-800 text-xs",children:"Medium"});case"low":return e.jsx(m,{variant:"outline",className:"text-xs",children:"Low"});default:return e.jsx(m,{variant:"outline",className:"text-xs",children:t})}},te=t=>{switch(t){case"route_completed":return e.jsx(pe,{className:"w-4 h-4 text-green-600"});case"fuel_purchase":return e.jsx(K,{className:"w-4 h-4 text-blue-600"});case"maintenance_check":return e.jsx(E,{className:"w-4 h-4 text-orange-600"});case"incident_reported":return e.jsx(M,{className:"w-4 h-4 text-red-600"});case"break_taken":return e.jsx(B,{className:"w-4 h-4 text-purple-600"});default:return e.jsx(O,{className:"w-4 h-4 text-gray-600"})}},H=t=>{switch(t){case"available":return e.jsx(m,{variant:"default",className:"bg-green-100 text-green-800",children:"Available"});case"in-use":return e.jsx(m,{variant:"default",className:"bg-blue-100 text-blue-800",children:"In Use"});case"maintenance":return e.jsx(m,{variant:"default",className:"bg-yellow-100 text-yellow-800",children:"Maintenance"});case"out-of-service":return e.jsx(m,{variant:"destructive",children:"Out of Service"});default:return e.jsx(m,{variant:"outline",children:t})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Driver Dashboard"}),e.jsxs("p",{className:"text-muted-foreground",children:["Welcome back, ",s.first_name,"! Here's your day at a glance."]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(v,{variant:"outline",size:"sm",children:[e.jsx(oe,{className:"w-4 h-4 mr-2"}),"Notifications"]}),e.jsxs(v,{size:"sm",children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),y!=null&&y.clock_in&&!(y!=null&&y.clock_out)?"Clock Out":"Clock In"]})]})]}),se&&e.jsx(l,{className:"border-red-200 bg-red-50",children:e.jsxs(c,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-red-800",children:[e.jsx(M,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Some data couldn't be loaded"})]}),e.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Please refresh the page or try again later."})]})}),ee&&e.jsx(l,{children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading dashboard data..."})]})})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(l,{children:[e.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(u,{className:"text-sm font-medium",children:"Today's Routes"}),e.jsx(he,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(c,{children:F?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-2xl font-bold",children:_.length}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[_.filter(t=>t.status==="completed").length," completed"]})]})})]}),e.jsxs(l,{children:[e.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(u,{className:"text-sm font-medium",children:"Safety Score"}),e.jsx(ue,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(c,{children:b?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[f.safetyScore,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+2% from last week"})]})})]}),e.jsxs(l,{children:[e.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(u,{className:"text-sm font-medium",children:"On-Time Delivery"}),e.jsx(ye,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(c,{children:b?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[f.onTimeDelivery,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Excellent performance"})]})})]}),e.jsxs(l,{children:[e.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(u,{className:"text-sm font-medium",children:"Customer Rating"}),e.jsx(ge,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(c,{children:b?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[f.customerRating,"/5"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Based on 45 reviews"})]})})]})]}),e.jsxs(ve,{value:z,onValueChange:W,className:"space-y-4",children:[e.jsxs(Ne,{className:"grid w-full grid-cols-4",children:[e.jsx(D,{value:"overview",children:"Overview"}),e.jsx(D,{value:"schedule",children:"Today's Schedule"}),e.jsx(D,{value:"vehicle",children:"Vehicle Info"}),e.jsx(D,{value:"activity",children:"Recent Activity"})]}),e.jsxs(L,{value:"overview",className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(l,{children:[e.jsxs(h,{children:[e.jsxs(u,{className:"flex items-center space-x-2",children:[e.jsx(P,{className:"w-5 h-5"}),e.jsx("span",{children:"Today's Schedule"})]}),e.jsx(N,{children:"Your routes and tasks for today"})]}),e.jsxs(c,{className:"space-y-3",children:[_.slice(0,3).map(t=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg border",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-sm font-medium",children:t.time}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t.route}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t.destination})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[I(t.priority),V(t.status)]})]},t.id)),e.jsx(v,{variant:"outline",className:"w-full",children:"View Full Schedule"})]})]}),e.jsxs(l,{children:[e.jsxs(h,{children:[e.jsxs(u,{className:"flex items-center space-x-2",children:[e.jsx(k,{className:"w-5 h-5"}),e.jsx("span",{children:"Assigned Vehicle"})]}),e.jsx(N,{children:"Current vehicle information"})]}),e.jsx(c,{className:"space-y-4",children:q?e.jsxs("div",{className:"flex items-center justify-center space-x-2 py-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading vehicle information..."})]}):T?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(M,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-red-600",children:"Error loading vehicle"})]}):n?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Vehicle:"}),e.jsxs("span",{className:"text-sm",children:[n.make," ",n.model]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"License Plate:"}),e.jsx("span",{className:"text-sm font-mono",children:n.license_plate})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Fuel Level:"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${n.fuel_level}%`}})}),e.jsxs("span",{className:"text-sm",children:[n.fuel_level,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Status:"}),H(n.status)]}),e.jsx(v,{variant:"outline",className:"w-full",children:"View Vehicle Details"})]}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx(k,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No vehicle assigned"})]})})]})]}),e.jsxs(l,{children:[e.jsxs(h,{children:[e.jsxs(u,{className:"flex items-center space-x-2",children:[e.jsx(je,{className:"w-5 h-5"}),e.jsx("span",{children:"Performance Metrics"})]}),e.jsx(N,{children:"Your key performance indicators"})]}),e.jsx(c,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:f.totalRoutes}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Routes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:f.totalHours}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Hours Driven"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:f.totalMiles.toLocaleString()}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Miles Driven"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:f.fuelEfficiency}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"MPG Average"})]})]})})]})]}),e.jsx(L,{value:"schedule",className:"space-y-4",children:e.jsxs(l,{children:[e.jsxs(h,{children:[e.jsxs(u,{className:"flex items-center space-x-2",children:[e.jsx(P,{className:"w-5 h-5"}),e.jsx("span",{children:"Today's Schedule"})]}),e.jsx(N,{children:"Your complete schedule for today"})]}),e.jsx(c,{children:e.jsx("div",{className:"space-y-4",children:_.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-lg font-mono font-medium",children:t.time}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-lg",children:t.route}),e.jsxs("div",{className:"text-sm text-muted-foreground flex items-center",children:[e.jsx(fe,{className:"w-3 h-3 mr-1"}),t.destination]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[I(t.priority),V(t.status),e.jsx(v,{variant:"outline",size:"sm",children:"View Details"})]})]},t.id))})})]})}),e.jsx(L,{value:"vehicle",className:"space-y-4",children:q?e.jsx(l,{children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading vehicle information..."})]})})}):T?e.jsx(l,{children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(M,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Vehicle"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Unable to load vehicle information. Please try again."})]})})}):n?e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(l,{children:[e.jsxs(h,{children:[e.jsxs(u,{className:"flex items-center space-x-2",children:[e.jsx(k,{className:"w-5 h-5"}),e.jsx("span",{children:"Vehicle Details"})]}),e.jsx(N,{children:"Complete vehicle information"})]}),e.jsx(c,{className:"space-y-4",children:e.jsxs("div",{className:"grid gap-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Vehicle Number:"}),e.jsx("span",{className:"text-sm",children:n.vehicle_number})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"License Plate:"}),e.jsx("span",{className:"text-sm font-mono",children:n.license_plate})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Make & Model:"}),e.jsxs("span",{className:"text-sm",children:[n.make," ",n.model]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Year:"}),e.jsx("span",{className:"text-sm",children:n.year})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Status:"}),H(n.status)]})]})})]}),e.jsxs(l,{children:[e.jsxs(h,{children:[e.jsxs(u,{className:"flex items-center space-x-2",children:[e.jsx(E,{className:"w-5 h-5"}),e.jsx("span",{children:"Maintenance Info"})]}),e.jsx(N,{children:"Maintenance schedule and history"})]}),e.jsxs(c,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Last Maintenance:"}),e.jsx("span",{className:"text-sm",children:x(new Date(n.last_maintenance),"MMM dd, yyyy")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Next Maintenance:"}),e.jsx("span",{className:"text-sm",children:x(new Date(n.next_maintenance),"MMM dd, yyyy")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Fuel Level:"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${n.fuel_level}%`}})}),e.jsxs("span",{className:"text-sm",children:[n.fuel_level,"%"]})]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(v,{variant:"outline",className:"flex-1",children:[e.jsx(E,{className:"w-4 h-4 mr-2"}),"Report Issue"]}),e.jsxs(v,{variant:"outline",className:"flex-1",children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),"Fuel Log"]})]})]})]})]}):e.jsx(l,{children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(k,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Vehicle Assigned"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"You don't have a vehicle assigned at the moment."})]})})})}),e.jsx(L,{value:"activity",className:"space-y-4",children:e.jsxs(l,{children:[e.jsxs(h,{children:[e.jsxs(u,{className:"flex items-center space-x-2",children:[e.jsx(O,{className:"w-5 h-5"}),e.jsx("span",{children:"Recent Activity"})]}),e.jsx(N,{children:"Your recent actions and updates"})]}),e.jsx(c,{children:e.jsx("div",{className:"space-y-4",children:J.map(t=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border",children:[e.jsx("div",{className:"mt-1",children:te(t.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:t.title}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t.description}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:x(new Date(t.timestamp),"MMM dd, yyyy HH:mm")})]})]},t.id))})})]})})]})]})};export{Te as default};
