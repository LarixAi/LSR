import{q as K,a as Q,r as v,j as e,N as I,B as d,i as h,n as x,af as X,ag as $,ah as ee,k as m,l as j,a2 as se,m as u,Y as i,I as l,p as ae,_ as g,S as b,ac as ie,a0 as te}from"./main-piTIAPSx.js";import{S as r}from"./switch-CRHok4sN.js";import{T as y}from"./textarea-mxcr8nPj.js";import{S as w,a as C,b as S,c as P,d as c}from"./select-Brm_N20Q.js";import{T as ne,a as ce,b as N,c as f}from"./tabs-N5TLptOb.js";import{D as re}from"./download-C4W0Vf38.js";import{U as le}from"./upload-CgVQC7ku.js";import{S as k}from"./save-4i_nN9Q9.js";import{S as de}from"./smartphone-BfRFeWNd.js";import"./index-Pp_niZQ8.js";const ge=()=>{var z,U;const{user:L,profile:a,loading:_}=K(),{toast:o}=Q(),[t,M]=v.useState({firstName:(a==null?void 0:a.first_name)||"",lastName:(a==null?void 0:a.last_name)||"",email:(a==null?void 0:a.email)||"",phone:(a==null?void 0:a.phone)||"",address:(a==null?void 0:a.address)||"",city:(a==null?void 0:a.city)||"",state:(a==null?void 0:a.state)||"",zipCode:(a==null?void 0:a.zip_code)||"",emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,notificationFrequency:"immediate",routeNotifications:!0,maintenanceNotifications:!0,scheduleNotifications:!0,locationSharing:!0,showOnlineStatus:!0,allowContactSharing:!1,darkMode:!1,autoRefresh:!0,dataUsage:"standard",language:"en",timezone:"Europe/London",emergencyContacts:"",healthInfo:"",preferences:""}),[Y,A]=v.useState(""),[F,D]=v.useState(""),[E,T]=v.useState(""),[p,R]=v.useState(!1);if(_)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"text-lg",children:"Loading..."})});if(!L||!a)return e.jsx(I,{to:"/auth",replace:!0});if(a.role!=="driver")return e.jsx(I,{to:"/dashboard",replace:!0});const n=(s,Z)=>{M(J=>({...J,[s]:Z}))},q=()=>{o({title:"Profile Updated",description:"Your profile information has been saved successfully."})},V=()=>{o({title:"Notifications Updated",description:"Your notification preferences have been saved."})},O=()=>{o({title:"Privacy Settings Updated",description:"Your privacy settings have been saved."})},B=()=>{o({title:"App Settings Updated",description:"Your app settings have been saved."})},H=()=>{if(F!==E){o({title:"Password Mismatch",description:"New password and confirm password do not match.",variant:"destructive"});return}o({title:"Password Changed",description:"Your password has been updated successfully."}),A(""),D(""),T("")},G=()=>{o({title:"Data Export",description:"Your data export has been initiated. You'll receive an email when it's ready."})},W=()=>{o({title:"Account Deletion",description:"Account deletion request submitted. This action cannot be undone.",variant:"destructive"})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Settings"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your account settings and preferences"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(d,{onClick:G,variant:"outline",size:"sm",children:[e.jsx(re,{className:"w-4 h-4 mr-2"}),"Export Data"]})})]}),e.jsx(h,{children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(X,{className:"h-16 w-16",children:[e.jsx($,{src:a.avatar_url,alt:a.first_name}),e.jsxs(ee,{className:"text-lg",children:[(z=a.first_name)==null?void 0:z[0],(U=a.last_name)==null?void 0:U[0]]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"text-xl font-semibold",children:[a.first_name," ",a.last_name]}),e.jsx("p",{className:"text-muted-foreground",children:a.email}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Driver â€¢ ",a.employee_id]})]}),e.jsxs(d,{variant:"outline",children:[e.jsx(le,{className:"w-4 h-4 mr-2"}),"Change Photo"]})]})})}),e.jsxs(ne,{defaultValue:"profile",className:"space-y-6",children:[e.jsxs(ce,{className:"grid w-full grid-cols-2 lg:grid-cols-5 gap-1 h-auto p-1",children:[e.jsx(N,{value:"profile",children:"Profile"}),e.jsx(N,{value:"notifications",children:"Notifications"}),e.jsx(N,{value:"privacy",children:"Privacy"}),e.jsx(N,{value:"app",children:"App Settings"}),e.jsx(N,{value:"security",children:"Security"})]}),e.jsx(f,{value:"profile",className:"space-y-4",children:e.jsxs(h,{children:[e.jsxs(m,{children:[e.jsxs(j,{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"w-5 h-5"}),e.jsx("span",{children:"Personal Information"})]}),e.jsx(u,{children:"Update your personal details and contact information"})]}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"firstName",children:"First Name"}),e.jsx(l,{id:"firstName",value:t.firstName,onChange:s=>n("firstName",s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"lastName",children:"Last Name"}),e.jsx(l,{id:"lastName",value:t.lastName,onChange:s=>n("lastName",s.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"email",children:"Email Address"}),e.jsx(l,{id:"email",type:"email",value:t.email,onChange:s=>n("email",s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"phone",children:"Phone Number"}),e.jsx(l,{id:"phone",value:t.phone,onChange:s=>n("phone",s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"address",children:"Address"}),e.jsx(y,{id:"address",value:t.address,onChange:s=>n("address",s.target.value),rows:3})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"city",children:"City"}),e.jsx(l,{id:"city",value:t.city,onChange:s=>n("city",s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"state",children:"State/Province"}),e.jsx(l,{id:"state",value:t.state,onChange:s=>n("state",s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"zipCode",children:"Postal Code"}),e.jsx(l,{id:"zipCode",value:t.zipCode,onChange:s=>n("zipCode",s.target.value)})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(d,{onClick:q,children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})]})}),e.jsx(f,{value:"notifications",className:"space-y-4",children:e.jsxs(h,{children:[e.jsxs(m,{children:[e.jsxs(j,{className:"flex items-center space-x-2",children:[e.jsx(ae,{className:"w-5 h-5"}),e.jsx("span",{children:"Notification Preferences"})]}),e.jsx(u,{children:"Choose how and when you want to receive notifications"})]}),e.jsxs(x,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(i,{children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via email"})]}),e.jsx(r,{checked:t.emailNotifications,onCheckedChange:s=>n("emailNotifications",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(i,{children:"SMS Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via SMS"})]}),e.jsx(r,{checked:t.smsNotifications,onCheckedChange:s=>n("smsNotifications",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(i,{children:"Push Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications on your device"})]}),e.jsx(r,{checked:t.pushNotifications,onCheckedChange:s=>n("pushNotifications",s)})]})]}),e.jsx(g,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Notification Frequency"}),e.jsxs(w,{value:t.notificationFrequency,onValueChange:s=>n("notificationFrequency",s),children:[e.jsx(C,{children:e.jsx(S,{})}),e.jsxs(P,{children:[e.jsx(c,{value:"immediate",children:"Immediate"}),e.jsx(c,{value:"hourly",children:"Hourly"}),e.jsx(c,{value:"daily",children:"Daily Summary"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(i,{children:"Route Updates"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Notifications about route changes"})]}),e.jsx(r,{checked:t.routeNotifications,onCheckedChange:s=>n("routeNotifications",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(i,{children:"Maintenance Alerts"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Vehicle maintenance reminders"})]}),e.jsx(r,{checked:t.maintenanceNotifications,onCheckedChange:s=>n("maintenanceNotifications",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(i,{children:"Schedule Changes"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Work schedule updates"})]}),e.jsx(r,{checked:t.scheduleNotifications,onCheckedChange:s=>n("scheduleNotifications",s)})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(d,{onClick:V,children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"Save Preferences"]})})]})]})}),e.jsx(f,{value:"privacy",className:"space-y-4",children:e.jsxs(h,{children:[e.jsxs(m,{children:[e.jsxs(j,{className:"flex items-center space-x-2",children:[e.jsx(b,{className:"w-5 h-5"}),e.jsx("span",{children:"Privacy & Data"})]}),e.jsx(u,{children:"Control your privacy settings and data sharing"})]}),e.jsxs(x,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(i,{children:"Location Sharing"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow location tracking for route optimization"})]}),e.jsx(r,{checked:t.locationSharing,onCheckedChange:s=>n("locationSharing",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(i,{children:"Online Status"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Show when you're available for work"})]}),e.jsx(r,{checked:t.showOnlineStatus,onCheckedChange:s=>n("showOnlineStatus",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(i,{children:"Contact Sharing"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow other drivers to contact you"})]}),e.jsx(r,{checked:t.allowContactSharing,onCheckedChange:s=>n("allowContactSharing",s)})]})]}),e.jsx(g,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"emergencyContacts",children:"Emergency Contacts"}),e.jsx(y,{id:"emergencyContacts",placeholder:"Enter emergency contact information...",value:t.emergencyContacts,onChange:s=>n("emergencyContacts",s.target.value),rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"healthInfo",children:"Health Information"}),e.jsx(y,{id:"healthInfo",placeholder:"Any relevant health information for emergency situations...",value:t.healthInfo,onChange:s=>n("healthInfo",s.target.value),rows:3})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(d,{onClick:O,children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"Save Privacy Settings"]})})]})]})}),e.jsx(f,{value:"app",className:"space-y-4",children:e.jsxs(h,{children:[e.jsxs(m,{children:[e.jsxs(j,{className:"flex items-center space-x-2",children:[e.jsx(de,{className:"w-5 h-5"}),e.jsx("span",{children:"App Preferences"})]}),e.jsx(u,{children:"Customize your app experience"})]}),e.jsxs(x,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(i,{children:"Dark Mode"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Use dark theme for the app"})]}),e.jsx(r,{checked:t.darkMode,onCheckedChange:s=>n("darkMode",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(i,{children:"Auto Refresh"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically refresh data"})]}),e.jsx(r,{checked:t.autoRefresh,onCheckedChange:s=>n("autoRefresh",s)})]})]}),e.jsx(g,{}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Language"}),e.jsxs(w,{value:t.language,onValueChange:s=>n("language",s),children:[e.jsx(C,{children:e.jsx(S,{})}),e.jsxs(P,{children:[e.jsx(c,{value:"en",children:"English"}),e.jsx(c,{value:"es",children:"Spanish"}),e.jsx(c,{value:"fr",children:"French"}),e.jsx(c,{value:"de",children:"German"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Timezone"}),e.jsxs(w,{value:t.timezone,onValueChange:s=>n("timezone",s),children:[e.jsx(C,{children:e.jsx(S,{})}),e.jsxs(P,{children:[e.jsx(c,{value:"Europe/London",children:"London (GMT)"}),e.jsx(c,{value:"Europe/Paris",children:"Paris (CET)"}),e.jsx(c,{value:"America/New_York",children:"New York (EST)"}),e.jsx(c,{value:"America/Los_Angeles",children:"Los Angeles (PST)"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{children:"Data Usage"}),e.jsxs(w,{value:t.dataUsage,onValueChange:s=>n("dataUsage",s),children:[e.jsx(C,{children:e.jsx(S,{})}),e.jsxs(P,{children:[e.jsx(c,{value:"low",children:"Low (Save data)"}),e.jsx(c,{value:"standard",children:"Standard"}),e.jsx(c,{value:"high",children:"High (Best quality)"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(d,{onClick:B,children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"Save App Settings"]})})]})]})}),e.jsxs(f,{value:"security",className:"space-y-4",children:[e.jsxs(h,{children:[e.jsxs(m,{children:[e.jsxs(j,{className:"flex items-center space-x-2",children:[e.jsx(b,{className:"w-5 h-5"}),e.jsx("span",{children:"Security & Password"})]}),e.jsx(u,{children:"Manage your account security settings"})]}),e.jsxs(x,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"currentPassword",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(l,{id:"currentPassword",type:p?"text":"password",value:Y,onChange:s=>A(s.target.value)}),e.jsx(d,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>R(!p),children:p?e.jsx(ie,{className:"h-4 w-4"}):e.jsx(te,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"newPassword",children:"New Password"}),e.jsx(l,{id:"newPassword",type:p?"text":"password",value:F,onChange:s=>D(s.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"confirmPassword",children:"Confirm New Password"}),e.jsx(l,{id:"confirmPassword",type:p?"text":"password",value:E,onChange:s=>T(s.target.value)})]}),e.jsxs(d,{onClick:H,children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"Change Password"]})]}),e.jsx(g,{}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"preferences",children:"Additional Preferences"}),e.jsx(y,{id:"preferences",placeholder:"Any additional preferences or special requirements...",value:t.preferences,onChange:s=>n("preferences",s.target.value),rows:3})]})})]})]}),e.jsxs(h,{className:"border-red-200",children:[e.jsxs(m,{children:[e.jsx(j,{className:"text-red-600",children:"Danger Zone"}),e.jsx(u,{children:"Irreversible and destructive actions"})]}),e.jsx(x,{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Delete Account"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Permanently delete your account and all associated data"})]}),e.jsx(d,{variant:"destructive",onClick:W,children:"Delete Account"})]})})]})]})]})]})};export{ge as default};
