import{q as B,r as b,j as e,N as f,w as o,D as U,b as H,B as a,d as q,e as J,f as V,Y as m,I as h,i,n as t,U as W,a0 as j,O as Y,k as p,l as u,F as G,o as y,E as K}from"./main-piTIAPSx.js";import{T as Q}from"./textarea-mxcr8nPj.js";import{S as C,a as w,b as T,c as S,d as l}from"./select-Brm_N20Q.js";import{T as X,a as Z,b as E,c as n,d as _,e as r}from"./table-CV1HM_JF.js";import{T as $,a as ee,b as g,c as N}from"./tabs-N5TLptOb.js";import{P as M}from"./plus-CMGcTuiR.js";import{S as se}from"./send-CbMnoHMq.js";import{C as ae}from"./circle-check-big-CD0jvDn0.js";import{S as le}from"./search-HDsNrIL9.js";import{S as R}from"./square-pen-DnuZJKej.js";import{C as ie}from"./copy-BKc1aBN8.js";import"./index-Pp_niZQ8.js";const ge=()=>{const{user:k,profile:v,loading:D}=B(),[O,P]=b.useState(""),[A,I]=b.useState(!1);if(D)return e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"}),e.jsx("p",{className:"text-lg",children:"Loading email management..."})]})});if(!k||!v)return e.jsx(f,{to:"/auth",replace:!0});if(!["admin","council"].includes(v.role))return e.jsx(f,{to:"/unauthorized",replace:!0});const x=[{id:"CAM-001",name:"Monthly Service Update - January",type:"newsletter",status:"sent",recipients:245,opened:198,clicked:42,subject:"LSR Logistics - January Service Updates",sentDate:"2024-01-15"},{id:"CAM-002",name:"New Route Announcement",type:"announcement",status:"scheduled",recipients:180,opened:0,clicked:0,subject:"Exciting News: New Route Service Available",sentDate:null},{id:"CAM-003",name:"Payment Reminder - Overdue Invoices",type:"reminder",status:"draft",recipients:15,opened:0,clicked:0,subject:"Payment Reminder - Invoice Due",sentDate:null}],z=[{id:"TEMP-001",name:"Service Update Template",type:"newsletter",description:"Monthly service updates and company news",lastModified:"2024-01-10",used:12},{id:"TEMP-002",name:"Invoice Template",type:"billing",description:"Professional invoice email template",lastModified:"2024-01-08",used:45},{id:"TEMP-003",name:"Welcome Email",type:"onboarding",description:"Welcome new customers to our service",lastModified:"2024-01-05",used:8}],F=s=>{const d={sent:"bg-green-100 text-green-800",scheduled:"bg-blue-100 text-blue-800",draft:"bg-gray-100 text-gray-800",sending:"bg-yellow-100 text-yellow-800",failed:"bg-red-100 text-red-800"};return e.jsx(K,{className:d[s]||"bg-gray-100 text-gray-800",children:s})},c={totalCampaigns:x.length,totalRecipients:x.reduce((s,d)=>s+d.recipients,0),totalOpened:x.reduce((s,d)=>s+d.opened,0),totalClicked:x.reduce((s,d)=>s+d.clicked,0)},L=c.totalRecipients>0?c.totalOpened/c.totalRecipients*100:0;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(o,{className:"w-8 h-8 text-blue-600"}),"Email Management"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage email campaigns, templates, and communications"})]}),e.jsxs(U,{open:A,onOpenChange:I,children:[e.jsx(H,{asChild:!0,children:e.jsxs(a,{className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Compose Email"]})}),e.jsxs(q,{className:"max-w-3xl",children:[e.jsx(J,{children:e.jsx(V,{children:"Compose New Email"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"campaign-name",children:"Campaign Name"}),e.jsx(h,{id:"campaign-name",placeholder:"Internal campaign name"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"email-type",children:"Email Type"}),e.jsxs(C,{children:[e.jsx(w,{children:e.jsx(T,{placeholder:"Select type"})}),e.jsxs(S,{children:[e.jsx(l,{value:"newsletter",children:"Newsletter"}),e.jsx(l,{value:"announcement",children:"Announcement"}),e.jsx(l,{value:"reminder",children:"Reminder"}),e.jsx(l,{value:"billing",children:"Billing"}),e.jsx(l,{value:"marketing",children:"Marketing"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"recipients",children:"Recipients"}),e.jsxs(C,{children:[e.jsx(w,{children:e.jsx(T,{placeholder:"Select recipient group"})}),e.jsxs(S,{children:[e.jsx(l,{value:"all-customers",children:"All Customers"}),e.jsx(l,{value:"school-customers",children:"School Transport Customers"}),e.jsx(l,{value:"medical-customers",children:"Medical Transport Customers"}),e.jsx(l,{value:"charter-customers",children:"Charter Service Customers"}),e.jsx(l,{value:"overdue-invoices",children:"Customers with Overdue Invoices"}),e.jsx(l,{value:"custom",children:"Custom List"})]})]})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"subject",children:"Subject Line"}),e.jsx(h,{id:"subject",placeholder:"Email subject line"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"content",children:"Email Content"}),e.jsx(Q,{id:"content",placeholder:"Compose your email message...",rows:8})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(a,{className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[e.jsx(se,{className:"w-4 h-4 mr-2"}),"Send Email"]}),e.jsx(a,{variant:"outline",className:"flex-1",children:"Save Draft"}),e.jsx(a,{variant:"outline",children:"Preview"})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[e.jsx(i,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(o,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Campaigns"}),e.jsx("p",{className:"text-2xl font-bold",children:c.totalCampaigns})]})]})})}),e.jsx(i,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(W,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Recipients"}),e.jsx("p",{className:"text-2xl font-bold",children:c.totalRecipients})]})]})})}),e.jsx(i,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(j,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Emails Opened"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:c.totalOpened})]})]})})}),e.jsx(i,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ae,{className:"w-8 h-8 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Links Clicked"}),e.jsx("p",{className:"text-2xl font-bold",children:c.totalClicked})]})]})})}),e.jsx(i,{children:e.jsx(t,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Y,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Open Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[L.toFixed(0),"%"]})]})]})})})]}),e.jsxs($,{defaultValue:"campaigns",className:"space-y-6",children:[e.jsxs(ee,{className:"grid w-full grid-cols-3",children:[e.jsx(g,{value:"campaigns",children:"Campaigns"}),e.jsx(g,{value:"templates",children:"Templates"}),e.jsx(g,{value:"settings",children:"Settings"})]}),e.jsx(N,{value:"campaigns",className:"space-y-4",children:e.jsxs(i,{children:[e.jsxs(p,{children:[e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(o,{className:"w-5 h-5"}),"Email Campaigns"]}),e.jsx("div",{className:"flex gap-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(le,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(h,{placeholder:"Search campaigns...",value:O,onChange:s=>P(s.target.value),className:"pl-10"})]})})]}),e.jsx(t,{children:e.jsxs(X,{children:[e.jsx(Z,{children:e.jsxs(E,{children:[e.jsx(n,{children:"Campaign"}),e.jsx(n,{children:"Type"}),e.jsx(n,{children:"Recipients"}),e.jsx(n,{children:"Opened"}),e.jsx(n,{children:"Clicked"}),e.jsx(n,{children:"Status"}),e.jsx(n,{children:"Date"}),e.jsx(n,{children:"Actions"})]})}),e.jsx(_,{children:x.map(s=>e.jsxs(E,{children:[e.jsx(r,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.subject})]})}),e.jsx(r,{className:"capitalize",children:s.type}),e.jsx(r,{children:s.recipients}),e.jsx(r,{children:s.opened}),e.jsx(r,{children:s.clicked}),e.jsx(r,{children:F(s.status)}),e.jsx(r,{children:s.sentDate||"Not sent"}),e.jsx(r,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(a,{variant:"outline",size:"sm",children:e.jsx(j,{className:"w-4 h-4"})}),e.jsx(a,{variant:"outline",size:"sm",children:e.jsx(R,{className:"w-4 h-4"})}),e.jsx(a,{variant:"outline",size:"sm",children:e.jsx(ie,{className:"w-4 h-4"})})]})})]},s.id))})]})})]})}),e.jsx(N,{value:"templates",className:"space-y-4",children:e.jsxs(i,{children:[e.jsxs(p,{children:[e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(G,{className:"w-5 h-5"}),"Email Templates"]}),e.jsxs(a,{className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Create Template"]})]}),e.jsx(t,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:z.map(s=>e.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 capitalize",children:s.type})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(a,{variant:"outline",size:"sm",children:e.jsx(j,{className:"w-4 h-4"})}),e.jsx(a,{variant:"outline",size:"sm",children:e.jsx(R,{className:"w-4 h-4"})})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Used ",s.used," times"]}),e.jsxs("span",{children:["Modified: ",s.lastModified]})]})]},s.id))})})]})}),e.jsx(N,{value:"settings",className:"space-y-4",children:e.jsxs(i,{children:[e.jsx(p,{children:e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(y,{className:"w-5 h-5"}),"Email Settings"]})}),e.jsx(t,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(y,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Email Configuration"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Configure SMTP settings, sender information, and email delivery options."}),e.jsx(a,{className:"bg-blue-600 hover:bg-blue-700",children:"Configure Settings"})]})})]})})]})]})};export{ge as default};
