import{r as n,y,j as e,i as f,k as b,l as w,m as v,D as C,b as S,B as i,d as M,e as D,f as $,g as T,Y as h,n as k,E,H as I,v as A}from"./main-piTIAPSx.js";import{T as B}from"./textarea-mxcr8nPj.js";import{S as H,a as O,b as R,c as q,d as t}from"./select-Brm_N20Q.js";import{M as c}from"./message-square-DPQpPpm_.js";import{S as u}from"./send-CbMnoHMq.js";import"./index-Pp_niZQ8.js";const G=()=>{const[r,m]=n.useState(""),[d,o]=n.useState("general"),[g,l]=n.useState(!1),s=y(),x=[{id:"1",type:"delay",from:"Driver John Smith",message:"Running 15 minutes late due to heavy traffic on Main Street",timestamp:"2 hours ago",status:"unread"},{id:"2",type:"incident",from:"Driver John Smith",message:"Minor incident - student Emma forgot her backpack. Returned to pick it up.",timestamp:"1 day ago",status:"read"},{id:"3",type:"general",from:"You",message:"Emma will not be taking the bus tomorrow - doctor appointment at 9 AM",timestamp:"2 days ago",status:"read"}],p=()=>{r.trim()&&(console.log("Sending message:",{type:d,message:r}),m(""),o("general"),l(!1))},j=a=>{switch(a){case"delay":return e.jsx(A,{className:"w-4 h-4 text-orange-500"});case"incident":return e.jsx(I,{className:"w-4 h-4 text-red-500"});default:return e.jsx(c,{className:"w-4 h-4 text-blue-500"})}},N=a=>{switch(a){case"delay":return"bg-orange-100 text-orange-800";case"incident":return"bg-red-100 text-red-800";default:return"bg-blue-100 text-blue-800"}};return e.jsxs(f,{children:[e.jsx(b,{className:s?"pb-3":"",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(w,{className:`flex items-center space-x-2 ${s?"text-lg":""}`,children:[e.jsx(c,{className:`${s?"w-4 h-4":"w-5 h-5"}`}),e.jsx("span",{children:"Communication Center"})]}),e.jsx(v,{className:s?"text-sm":"",children:"Messages with your child's driver"})]}),e.jsxs(C,{open:g,onOpenChange:l,children:[e.jsx(S,{asChild:!0,children:e.jsxs(i,{size:s?"sm":"default",className:s?"text-xs":"",children:[e.jsx(u,{className:`${s?"w-3 h-3 mr-1":"w-4 h-4 mr-2"}`}),s?"New":"New Message"]})}),e.jsxs(M,{className:s?"w-[95vw] max-w-none mx-2":"",children:[e.jsxs(D,{children:[e.jsx($,{className:s?"text-lg":"",children:"Send Message to Driver"}),e.jsx(T,{className:s?"text-sm":"",children:"Communicate with your child's driver about transport matters"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(h,{htmlFor:"messageType",className:s?"text-sm":"",children:"Message Type"}),e.jsxs(H,{value:d,onValueChange:o,children:[e.jsx(O,{className:s?"h-12":"",children:e.jsx(R,{})}),e.jsxs(q,{className:"bg-white",children:[e.jsx(t,{value:"general",children:"General Information"}),e.jsx(t,{value:"absence",children:"Student Absence"}),e.jsx(t,{value:"pickup",children:"Pickup Change"}),e.jsx(t,{value:"question",children:"Question"})]})]})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"message",className:s?"text-sm":"",children:"Message"}),e.jsx(B,{id:"message",value:r,onChange:a=>m(a.target.value),placeholder:"Type your message here...",rows:s?3:4,className:s?"text-base":""})]}),e.jsxs("div",{className:`flex ${s?"flex-col gap-2":"justify-end"} space-x-2`,children:[e.jsx(i,{variant:"outline",onClick:()=>l(!1),className:s?"w-full h-12":"",children:"Cancel"}),e.jsxs(i,{onClick:p,className:s?"w-full h-12":"",children:[e.jsx(u,{className:`${s?"w-3 h-3 mr-1":"w-4 h-4 mr-2"}`}),"Send Message"]})]})]})]})]})]})}),e.jsx(k,{className:s?"pt-0":"",children:e.jsxs("div",{className:"space-y-4",children:[x.map(a=>e.jsxs("div",{className:`${s?"p-3":"p-4"} rounded-lg border ${a.status==="unread"?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:[e.jsxs("div",{className:`flex items-start justify-between ${s?"mb-1":"mb-2"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[j(a.type),e.jsx("span",{className:`font-medium ${s?"text-sm truncate":"text-sm"}`,children:a.from}),e.jsx(E,{variant:"outline",className:`${N(a.type)} text-xs`,children:a.type.charAt(0).toUpperCase()+a.type.slice(1)})]}),e.jsx("span",{className:"text-xs text-gray-500 ml-2 flex-shrink-0",children:a.timestamp})]}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:a.message})]},a.id)),x.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(c,{className:`${s?"w-10 h-10":"w-12 h-12"} mx-auto mb-4 opacity-50`}),e.jsx("p",{className:s?"text-sm":"",children:"No messages yet"}),e.jsx("p",{className:`${s?"text-xs":"text-sm"}`,children:"Start a conversation with your child's driver"})]})]})})]})};export{G as default};
