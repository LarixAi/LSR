import{q as j,a as N,bk as p,r as b,j as e,B as t,X as v,U as d,E as m,L as y,o as w,a4 as k,p as x,bl as C,a5 as S,M as z,C as P}from"./main-piTIAPSx.js";import{C as M}from"./car-B9KPzxYH.js";import{M as O}from"./menu-BK_cQZ93.js";import{P as L}from"./phone-D7pMV1Uy.js";import{M as B}from"./message-square-DPQpPpm_.js";const D=()=>{var o;const{signOut:h,profile:s}=j(),{toast:r}=N(),u=p(),[i,n]=b.useState(!1),l=[{name:"Dashboard",href:"/parent-dashboard",icon:S},{name:"Live Tracking",href:"/parent-tracking",icon:z},{name:"Schedule",href:"/parent-schedule",icon:P},{name:"Children",href:"/parent-children",icon:d},{name:"Communication",href:"/parent-communication",icon:B},{name:"Notifications",href:"/parent-notifications",icon:x}],f=async()=>{try{await h(),r({title:"Signed out successfully",description:"You have been logged out of your account."})}catch{r({title:"Sign out failed",description:"There was an error signing out. Please try again.",variant:"destructive"})}},c=a=>u.pathname===a;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>n(!1)}),e.jsx("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 ${i?"translate-x-0":"-translate-x-full"}`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(M,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Parent Portal"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Transport Management"})]})]}),e.jsx(t,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>n(!1),children:e.jsx(v,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(d,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 truncate",children:[s==null?void 0:s.first_name," ",s==null?void 0:s.last_name]}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:s==null?void 0:s.email}),e.jsx(m,{variant:"outline",className:"mt-1 text-xs",children:"Parent"})]})]})}),e.jsx("nav",{className:"flex-1 p-4 space-y-2",children:l.map(a=>{const g=a.icon;return e.jsxs(y,{to:a.href,className:`flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${c(a.href)?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>n(!1),children:[e.jsx(g,{className:"w-5 h-5"}),e.jsx("span",{children:a.name})]},a.name)})}),e.jsxs("div",{className:"p-4 border-t space-y-2",children:[e.jsxs(t,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>n(!1),children:[e.jsx(w,{className:"w-4 h-4 mr-3"}),"Settings"]}),e.jsxs(t,{variant:"ghost",size:"sm",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50",onClick:f,children:[e.jsx(k,{className:"w-4 h-4 mr-3"}),"Sign Out"]})]})]})}),e.jsxs("div",{className:"lg:pl-64",children:[e.jsx("div",{className:"sticky top-0 z-30 bg-white border-b shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(t,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>n(!0),children:e.jsx(O,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:((o=l.find(a=>c(a.href)))==null?void 0:o.name)||"Dashboard"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Welcome back, ",(s==null?void 0:s.first_name)||"Parent","!"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(t,{variant:"outline",size:"sm",children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"Emergency Contact"]}),e.jsxs(t,{variant:"outline",size:"sm",className:"relative",children:[e.jsx(x,{className:"w-4 h-4"}),e.jsx(m,{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 text-xs",children:"3"})]})]})]})}),e.jsx("main",{className:"flex-1",children:e.jsx(C,{})})]})]})};export{D as default};
