import{c as se,q as xe,r as m,j as e,i,k as n,l as d,n as l,H as he,B as r,x as w,a1 as je,C as ge,O as C,K as ue,E as g,X as L,U as pe,T as fe,A as ve,G as Ne,a0 as ye,t as G,_ as E,o as be,Y as U,D as z,d as Y,e as Z,f as q,g as J,a6 as K,v as we,$ as S}from"./main-piTIAPSx.js";import{P as j}from"./progress-nJfMQ3MC.js";import{T as Ce,a as Se,b as D,c as A}from"./tabs-N5TLptOb.js";import{T as De,a as Ae,b as W,c as f,d as ke,e as v}from"./table-CV1HM_JF.js";import{S as Me,a as Te,b as Ue,c as Re,d as Ie}from"./select-Brm_N20Q.js";import{S as k}from"./switch-CRHok4sN.js";import{u as Be,a as Le,b as Ee}from"./useTrialManagement-DIBEvD_t.js";import{S as X}from"./star-D5LO9sgD.js";import{D as _}from"./download-C4W0Vf38.js";import{R as $e}from"./refresh-cw-BS9rbMP7.js";import{T as R}from"./trending-down-D0rMbz6u.js";import{D as Ve}from"./database-BK6ac866.js";import{Z as Fe}from"./zap-C72QVc6f.js";import{C as N}from"./circle-alert-9v4QUdZ6.js";import{P as Q}from"./plus-CMGcTuiR.js";import{C as He}from"./circle-check-big-CD0jvDn0.js";import"./index-Pp_niZQ8.js";import"./useQuery-Dbdyc74j.js";import"./useMutation-B8vlA97s.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=se("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=se("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),$=[{id:"starter",name:"Starter",price:29,billingCycle:"monthly",features:["Driver mobile app access","Daily vehicle inspections","Basic job management","Route planning (up to 10 routes)","Driver compliance tracking","Basic reporting","Email support","GPS tracking","Mobile notifications"],limits:{drivers:5,vehicles:10,storage:10,apiCalls:1e3}},{id:"professional",name:"Professional",price:79,billingCycle:"monthly",features:["All Starter features","Advanced job scheduling","Real-time tracking","Compliance automation","Advanced reporting & analytics","Route optimization","Driver performance metrics","Incident management","Priority support","API access","Custom integrations"],limits:{drivers:25,vehicles:50,storage:50,apiCalls:1e4},popular:!0},{id:"enterprise",name:"Enterprise",price:149,billingCycle:"monthly",features:["All Professional features","Unlimited routes","Advanced analytics dashboard","Custom reporting","White-label options","Dedicated account manager","24/7 phone support","Custom integrations","Advanced security features","Multi-location support"],limits:{drivers:100,vehicles:200,storage:200,apiCalls:5e4}},{id:"unlimited",name:"Unlimited",price:299,billingCycle:"monthly",features:["All Enterprise features","Unlimited everything","Custom development","On-premise deployment option","Advanced AI features","Custom training","SLA guarantees","Advanced compliance features"],limits:{drivers:-1,vehicles:-1,storage:1e3,apiCalls:1e5}}],ee=$.map(c=>({...c,billingCycle:"yearly",price:Math.round(c.price*10),savings:17})),Ge={planId:"professional",status:"active",startDate:"2024-01-15",endDate:"2024-12-15",nextBillingDate:"2024-02-15",amount:79,autoRenew:!0,usage:{drivers:12,vehicles:23,storage:28.5,apiCalls:6500},paymentMethod:{type:"card",last4:"4242",brand:"Visa",expiryDate:"12/25"}},ze=[{id:"1",date:"2024-01-15",amount:79,status:"paid",description:"Professional Plan - Monthly",invoiceUrl:"#",paymentMethod:"Visa ending in 4242",taxAmount:7.11,discountAmount:0},{id:"2",date:"2023-12-15",amount:79,status:"paid",description:"Professional Plan - Monthly",invoiceUrl:"#",paymentMethod:"Visa ending in 4242",taxAmount:7.11,discountAmount:0},{id:"3",date:"2023-11-15",amount:79,status:"paid",description:"Professional Plan - Monthly",invoiceUrl:"#",paymentMethod:"Visa ending in 4242",taxAmount:7.11,discountAmount:0}],Ye=[{date:"2024-01-01",drivers:10,vehicles:20,storage:25,apiCalls:5e3},{date:"2024-01-08",drivers:11,vehicles:21,storage:26,apiCalls:5500},{date:"2024-01-15",drivers:12,vehicles:23,storage:28.5,apiCalls:6500}];function ms(){var O;xe();const{data:c}=Be();Le(),Ee();const[t]=m.useState(Ge),[ae]=m.useState(ze),[y]=m.useState(Ye),[u,V]=m.useState(null),[te,p]=m.useState(!1),[ie,I]=m.useState(!1);m.useState("monthly");const[b,le]=m.useState(t.autoRenew),[M,re]=m.useState(!1),s=(M?ee:$).find(a=>a.id===t.planId),B=M?ee:$,o=(a,h)=>h===-1?0:Math.min(a/h*100,100),F=a=>{switch(a){case"active":return"bg-green-100 text-green-800";case"expired":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";case"pending":return"bg-yellow-100 text-yellow-800";case"trial":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},ne=a=>{switch(a){case"active":return e.jsx(He,{className:"w-4 h-4"});case"expired":return e.jsx(L,{className:"w-4 h-4"});case"cancelled":return e.jsx(L,{className:"w-4 h-4"});case"pending":return e.jsx(we,{className:"w-4 h-4"});case"trial":return e.jsx(X,{className:"w-4 h-4"});default:return e.jsx(N,{className:"w-4 h-4"})}},x=a=>{if(y.length<2)return 0;const h=y[y.length-1][a],T=y[y.length-2][a];return(h-T)/T*100},de=()=>{u&&(S.success(`Successfully upgraded to ${u} plan!`),p(!1))},ce=()=>{S.success("Successfully downgraded plan!")},me=()=>{S.success("Subscription cancelled successfully!")},H=()=>{le(!b),S.success(`Auto-renew ${b?"disabled":"enabled"} successfully!`)},oe=()=>{S.success("Data export started! You will receive an email when ready.")};return e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[c&&e.jsxs(i,{className:"border-blue-200 bg-blue-50",children:[e.jsx(n,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-5 w-5 text-blue-600"}),"Trial Status"]})}),e.jsxs(l,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:c.daysLeft}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Days Left"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[c.currentDrivers,"/",c.maxDrivers]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Drivers Used"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:c.isActive?"Active":"Expired"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Status"})]})]}),c.isActive&&c.daysLeft<=7&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-100 border border-yellow-300 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-4 w-4 text-yellow-600"}),e.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Trial ending soon! Upgrade to keep your data and continue using the platform."})]})})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Subscription Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your subscription, billing, and usage"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(r,{variant:"outline",onClick:()=>p(!0),children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),"Upgrade Plan"]}),e.jsxs(r,{variant:"outline",onClick:oe,children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),"Export Data"]}),e.jsxs(r,{variant:"outline",onClick:()=>I(!0),children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"Payment Methods"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(i,{children:e.jsx(l,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Monthly Cost"}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",t.amount]})]}),e.jsx(je,{className:"h-8 w-8 text-muted-foreground"})]})})}),e.jsx(i,{children:e.jsx(l,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Next Billing"}),e.jsx("p",{className:"text-2xl font-bold",children:new Date(t.nextBillingDate).toLocaleDateString()})]}),e.jsx(ge,{className:"h-8 w-8 text-muted-foreground"})]})})}),e.jsx(i,{children:e.jsx(l,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Usage Trend"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(C,{className:"h-4 w-4 text-green-500"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:"+12%"})]})]}),e.jsx(ue,{className:"h-8 w-8 text-muted-foreground"})]})})}),e.jsx(i,{children:e.jsx(l,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Auto-Renew"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{checked:b,onCheckedChange:H}),e.jsx("span",{className:"text-sm",children:b?"Enabled":"Disabled"})]})]}),e.jsx($e,{className:"h-8 w-8 text-muted-foreground"})]})})})]}),e.jsxs(Ce,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(Se,{className:"grid w-full grid-cols-5 gap-1 h-auto p-1",children:[e.jsx(D,{value:"overview",children:"Overview"}),e.jsx(D,{value:"billing",children:"Billing"}),e.jsx(D,{value:"plans",children:"Plans"}),e.jsx(D,{value:"usage",children:"Usage"}),e.jsx(D,{value:"settings",children:"Settings"})]}),e.jsxs(A,{value:"overview",className:"space-y-6",children:[e.jsxs(i,{children:[e.jsx(n,{children:e.jsxs(d,{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Current Subscription"}),e.jsx(g,{className:F(t.status),children:e.jsxs("div",{className:"flex items-center gap-1",children:[ne(t.status),t.status.charAt(0).toUpperCase()+t.status.slice(1)]})})]})}),e.jsx(l,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg",children:[s==null?void 0:s.name," Plan"]}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",t.amount,"/month"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Next billing: ",new Date(t.nextBillingDate).toLocaleDateString()]}),t.trialEndsAt&&e.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:["Trial ends: ",new Date(t.trialEndsAt).toLocaleDateString()]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Subscription Period"}),e.jsxs("p",{className:"text-sm",children:[new Date(t.startDate).toLocaleDateString()," - ",new Date(t.endDate).toLocaleDateString()]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Payment Method"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:[t.paymentMethod.brand," ending in ",t.paymentMethod.last4]})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs(r,{variant:"outline",size:"sm",onClick:()=>p(!0),children:[e.jsx(P,{className:"w-4 h-4 mr-1"}),"Upgrade"]}),e.jsxs(r,{variant:"outline",size:"sm",onClick:ce,children:[e.jsx(Oe,{className:"w-4 h-4 mr-1"}),"Downgrade"]}),e.jsxs(r,{variant:"outline",size:"sm",onClick:me,children:[e.jsx(L,{className:"w-4 h-4 mr-1"}),"Cancel"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(i,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Users"}),e.jsx(pe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.usage.drivers}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[x("drivers")>0?e.jsx(C,{className:"h-3 w-3 text-green-500"}):e.jsx(R,{className:"h-3 w-3 text-red-500"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[Math.abs(x("drivers")).toFixed(1),"% from last week"]})]}),e.jsx(j,{value:o(t.usage.drivers,(s==null?void 0:s.limits.drivers)||0),className:"mt-2"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:(s==null?void 0:s.limits.drivers)===-1?"Unlimited":`${s==null?void 0:s.limits.drivers} limit`})]})]}),e.jsxs(i,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Vehicles"}),e.jsx(fe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.usage.vehicles}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[x("vehicles")>0?e.jsx(C,{className:"h-3 w-3 text-green-500"}):e.jsx(R,{className:"h-3 w-3 text-red-500"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[Math.abs(x("vehicles")).toFixed(1),"% from last week"]})]}),e.jsx(j,{value:o(t.usage.vehicles,(s==null?void 0:s.limits.vehicles)||0),className:"mt-2"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:(s==null?void 0:s.limits.vehicles)===-1?"Unlimited":`${s==null?void 0:s.limits.vehicles} limit`})]})]}),e.jsxs(i,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Storage"}),e.jsx(Ve,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[t.usage.storage,"GB"]}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[x("storage")>0?e.jsx(C,{className:"h-3 w-3 text-green-500"}):e.jsx(R,{className:"h-3 w-3 text-red-500"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[Math.abs(x("storage")).toFixed(1),"% from last week"]})]}),e.jsx(j,{value:o(t.usage.storage,(s==null?void 0:s.limits.storage)||0),className:"mt-2"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s==null?void 0:s.limits.storage,"GB limit"]})]})]}),e.jsxs(i,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"API Calls"}),e.jsx(Fe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.usage.apiCalls.toLocaleString()}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[x("apiCalls")>0?e.jsx(C,{className:"h-3 w-3 text-green-500"}):e.jsx(R,{className:"h-3 w-3 text-red-500"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[Math.abs(x("apiCalls")).toFixed(1),"% from last week"]})]}),e.jsx(j,{value:o(t.usage.apiCalls,(s==null?void 0:s.limits.apiCalls)||0),className:"mt-2"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s==null?void 0:s.limits.apiCalls.toLocaleString()," limit"]})]})]})]}),t.usage.drivers>((s==null?void 0:s.limits.drivers)||0)*.8&&e.jsxs(ve,{children:[e.jsx(N,{className:"h-4 w-4"}),e.jsx(Ne,{children:"You're approaching your driver limit. Consider upgrading to add more drivers."})]})]}),e.jsx(A,{value:"billing",className:"space-y-6",children:e.jsxs(i,{children:[e.jsx(n,{children:e.jsx(d,{children:"Billing History"})}),e.jsx(l,{children:e.jsxs(De,{children:[e.jsx(Ae,{children:e.jsxs(W,{children:[e.jsx(f,{children:"Date"}),e.jsx(f,{children:"Description"}),e.jsx(f,{children:"Amount"}),e.jsx(f,{children:"Status"}),e.jsx(f,{children:"Payment Method"}),e.jsx(f,{children:"Actions"})]})}),e.jsx(ke,{children:ae.map(a=>e.jsxs(W,{children:[e.jsx(v,{children:new Date(a.date).toLocaleDateString()}),e.jsx(v,{children:a.description}),e.jsx(v,{children:e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:["$",a.amount]}),a.taxAmount&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Tax: $",a.taxAmount]})]})}),e.jsx(v,{children:e.jsx(g,{className:F(a.status),children:a.status.charAt(0).toUpperCase()+a.status.slice(1)})}),e.jsx(v,{className:"text-sm",children:a.paymentMethod}),e.jsx(v,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{variant:"outline",size:"sm",children:e.jsx(ye,{className:"w-4 h-4"})}),e.jsx(r,{variant:"outline",size:"sm",children:e.jsx(_,{className:"w-4 h-4"})})]})})]},a.id))})]})})]})}),e.jsxs(A,{value:"plans",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Available Plans"}),e.jsx("p",{className:"text-muted-foreground",children:"Choose the plan that best fits your needs"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm",children:"Monthly"}),e.jsx(k,{checked:M,onCheckedChange:re}),e.jsx("span",{className:"text-sm",children:"Yearly"}),M&&e.jsx(g,{className:"bg-green-100 text-green-800",children:"Save 17%"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:B.map(a=>e.jsxs(i,{className:`relative ${a.popular?"border-primary shadow-lg":""}`,children:[a.popular&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsx(g,{className:"bg-primary text-primary-foreground",children:"Most Popular"})}),a.savings&&e.jsx("div",{className:"absolute -top-3 right-4",children:e.jsxs(g,{className:"bg-green-100 text-green-800",children:["Save ",a.savings,"%"]})}),e.jsxs(n,{children:[e.jsx(d,{className:"text-xl",children:a.name}),e.jsxs("div",{className:"text-3xl font-bold",children:["$",a.price,e.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:["/",a.billingCycle==="monthly"?"month":"year"]})]}),a.billingCycle==="yearly"&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",Math.round(a.price/12),"/month when billed yearly"]})]}),e.jsxs(l,{className:"space-y-4",children:[e.jsx("div",{className:"space-y-2",children:a.features.map((h,T)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-sm",children:h})]},T))}),e.jsx(E,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Drivers:"}),e.jsx("span",{children:a.limits.drivers===-1?"Unlimited":a.limits.drivers})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Vehicles:"}),e.jsx("span",{children:a.limits.vehicles===-1?"Unlimited":a.limits.vehicles})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Storage:"}),e.jsxs("span",{children:[a.limits.storage,"GB"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"API Calls:"}),e.jsxs("span",{children:[a.limits.apiCalls.toLocaleString(),"/month"]})]})]}),e.jsx(r,{className:"w-full",variant:a.id===t.planId?"outline":"default",disabled:a.id===t.planId,onClick:()=>{a.id!==t.planId&&(V(a.id),p(!0))},children:a.id===t.planId?"Current Plan":"Select Plan"})]})]},a.id))})]}),e.jsx(A,{value:"usage",className:"space-y-6",children:e.jsxs(i,{children:[e.jsx(n,{children:e.jsx(d,{children:"Usage Analytics"})}),e.jsx(l,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Monthly Usage Trends"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Drivers"}),e.jsxs("span",{children:[t.usage.drivers,"/",(s==null?void 0:s.limits.drivers)===-1?"∞":s==null?void 0:s.limits.drivers]})]}),e.jsx(j,{value:o(t.usage.drivers,(s==null?void 0:s.limits.drivers)||0)})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Vehicles"}),e.jsxs("span",{children:[t.usage.vehicles,"/",(s==null?void 0:s.limits.vehicles)===-1?"∞":s==null?void 0:s.limits.vehicles]})]}),e.jsx(j,{value:o(t.usage.vehicles,(s==null?void 0:s.limits.vehicles)||0)})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Storage"}),e.jsxs("span",{children:[t.usage.storage,"GB/",s==null?void 0:s.limits.storage,"GB"]})]}),e.jsx(j,{value:o(t.usage.storage,(s==null?void 0:s.limits.storage)||0)})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"API Calls"}),e.jsxs("span",{children:[t.usage.apiCalls.toLocaleString(),"/",s==null?void 0:s.limits.apiCalls.toLocaleString()]})]}),e.jsx(j,{value:o(t.usage.apiCalls,(s==null?void 0:s.limits.apiCalls)||0)})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Usage Recommendations"}),e.jsxs("div",{className:"space-y-3",children:[t.usage.drivers>((s==null?void 0:s.limits.drivers)||0)*.8&&e.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-yellow-600"}),e.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Approaching driver limit"})]}),e.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"Consider upgrading to add more drivers"})]}),t.usage.vehicles>((s==null?void 0:s.limits.vehicles)||0)*.8&&e.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-yellow-600"}),e.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Approaching vehicle limit"})]}),e.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"Consider upgrading to add more vehicles"})]}),t.usage.storage>((s==null?void 0:s.limits.storage)||0)*.8&&e.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-yellow-600"}),e.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Approaching storage limit"})]}),e.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"Consider upgrading for more storage"})]}),t.usage.apiCalls>((s==null?void 0:s.limits.apiCalls)||0)*.8&&e.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-yellow-600"}),e.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Approaching API limit"})]}),e.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"Consider upgrading for more API calls"})]})]})]})]})})]})}),e.jsx(A,{value:"settings",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(i,{children:[e.jsx(n,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(be,{className:"w-5 h-5"}),"Subscription Settings"]})}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(U,{htmlFor:"autoRenew",children:"Auto-Renew Subscription"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically renew your subscription"})]}),e.jsx(k,{id:"autoRenew",checked:b,onCheckedChange:H})]}),e.jsx(E,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(U,{htmlFor:"emailNotifications",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive billing notifications"})]}),e.jsx(k,{id:"emailNotifications",defaultChecked:!0})]}),e.jsx(E,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(U,{htmlFor:"usageAlerts",children:"Usage Alerts"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when approaching limits"})]}),e.jsx(k,{id:"usageAlerts",defaultChecked:!0})]})]})]}),e.jsxs(i,{children:[e.jsx(n,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-5 h-5"}),"Payment Information"]})}),e.jsxs(l,{className:"space-y-4",children:[e.jsx("div",{className:"p-3 border rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(w,{className:"w-6 h-6"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:[t.paymentMethod.brand," ending in ",t.paymentMethod.last4]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Expires ",t.paymentMethod.expiryDate]})]})]}),e.jsx(g,{variant:"secondary",children:"Default"})]})}),e.jsxs(r,{className:"w-full",children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Add New Payment Method"]})]})]})]})})]}),e.jsx(z,{open:te,onOpenChange:p,children:e.jsxs(Y,{className:"max-w-md",children:[e.jsxs(Z,{children:[e.jsx(q,{children:"Upgrade Subscription"}),e.jsx(J,{children:"Choose a new plan to upgrade your subscription. Changes will take effect immediately."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(U,{htmlFor:"plan",children:"Select Plan"}),e.jsxs(Me,{value:u||"",onValueChange:V,children:[e.jsx(Te,{children:e.jsx(Ue,{placeholder:"Choose a plan"})}),e.jsx(Re,{children:B.map(a=>e.jsxs(Ie,{value:a.id,children:[a.name," - $",a.price,"/",a.billingCycle==="monthly"?"month":"year"]},a.id))})]})]}),u&&e.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Plan Details"}),e.jsx("div",{className:"space-y-1 text-sm",children:(O=B.find(a=>a.id===u))==null?void 0:O.features.slice(0,5).map((a,h)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"w-4 h-4 text-green-500"}),a]},h))})]})]}),e.jsxs(K,{children:[e.jsx(r,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),e.jsx(r,{onClick:de,disabled:!u,children:"Upgrade Plan"})]})]})}),e.jsx(z,{open:ie,onOpenChange:I,children:e.jsxs(Y,{className:"max-w-lg",children:[e.jsxs(Z,{children:[e.jsx(q,{children:"Payment Methods"}),e.jsx(J,{children:"Manage your payment methods and billing information."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 border rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(w,{className:"w-6 h-6"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:[t.paymentMethod.brand," ending in ",t.paymentMethod.last4]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Expires ",t.paymentMethod.expiryDate]})]})]}),e.jsx(g,{variant:"secondary",children:"Default"})]})}),e.jsxs(r,{className:"w-full",children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Add New Payment Method"]})]}),e.jsx(K,{children:e.jsx(r,{variant:"outline",onClick:()=>I(!1),children:"Close"})})]})})]})}export{ms as default};
