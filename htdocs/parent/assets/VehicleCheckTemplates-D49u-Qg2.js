import{q as P,a as Z,r as d,j as e,B as r,i as L,k as U,l as W,E as m,m as Y,n as G,a0 as $,D as y,d as N,e as _,f as C,g as b,Y as l,I as q,H as J}from"./main-piTIAPSx.js";import{T as w}from"./textarea-mxcr8nPj.js";import{S as u,a as j,b as p,c as g,d as i}from"./select-Brm_N20Q.js";import{T as K,a as X,b as T,c as n,d as ee,e as c}from"./table-CV1HM_JF.js";import{P as k}from"./plus-CMGcTuiR.js";import{S as D}from"./square-pen-DnuZJKej.js";import{C as se}from"./copy-BKc1aBN8.js";import{C as te}from"./circle-check-big-CD0jvDn0.js";import{T as ie}from"./trash-2-CMjiaIVh.js";import"./index-Pp_niZQ8.js";const je=()=>{P();const{toast:S}=Z();d.useState([]);const[a,E]=d.useState(null),[ae,A]=d.useState([]),[V,o]=d.useState(!1),[F,x]=d.useState(!1),[t,v]=d.useState(null),Q=[{id:"1",name:"Standard Vehicle Check",description:"Comprehensive daily vehicle inspection checklist",is_active:!0,question_count:14,created_at:"2025-08-15T10:00:00Z"},{id:"2",name:"Quick Daily Check",description:"Basic safety inspection for daily use",is_active:!0,question_count:8,created_at:"2025-08-14T09:00:00Z"},{id:"3",name:"Comprehensive Weekly Check",description:"Detailed weekly inspection with additional checks",is_active:!1,question_count:25,created_at:"2025-08-13T14:00:00Z"}],f=[{id:"1",question_text:"Are all lights working?",question_type:"yes_no",is_required:!0,is_critical:!0,order_index:1,category:"exterior"},{id:"2",question_text:"Are tires in good condition with adequate tread?",question_type:"yes_no",is_required:!0,is_critical:!0,order_index:2,category:"exterior"},{id:"3",question_text:"What is the current mileage?",question_type:"number",is_required:!0,is_critical:!1,order_index:3,category:"documentation"},{id:"4",question_text:"Are you fit to drive?",question_type:"yes_no",is_required:!0,is_critical:!0,order_index:14,category:"driver"}],I=()=>{o(!0)},B=s=>{E(s),A(f),o(!0)},z=()=>{v(null),x(!0)},H=s=>{v(s),x(!0)},O=s=>{S({title:"Question Deleted",description:"The question has been removed from the template."})},R=s=>{const h={exterior:"bg-blue-100 text-blue-800",interior:"bg-green-100 text-green-800",engine:"bg-orange-100 text-orange-800",safety:"bg-red-100 text-red-800",documentation:"bg-purple-100 text-purple-800",driver:"bg-yellow-100 text-yellow-800"};return e.jsx(m,{className:h[s]||"bg-gray-100 text-gray-800",children:s})},M=s=>{const h={yes_no:"bg-green-100 text-green-800",multiple_choice:"bg-blue-100 text-blue-800",text:"bg-purple-100 text-purple-800",number:"bg-orange-100 text-orange-800"};return e.jsx(m,{className:h[s]||"bg-gray-100 text-gray-800",children:s})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Vehicle Check Templates"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage vehicle inspection templates and questions"})]}),e.jsxs(r,{onClick:I,children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"New Template"]})]}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Q.map(s=>e.jsxs(L,{className:"hover:shadow-md transition-shadow",children:[e.jsxs(U,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(W,{className:"text-lg",children:s.name}),e.jsx(m,{variant:s.is_active?"default":"secondary",children:s.is_active?"Active":"Inactive"})]}),e.jsx(Y,{children:s.description})]}),e.jsx(G,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Questions:"}),e.jsx("span",{className:"font-medium",children:s.question_count})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Created:"}),e.jsx("span",{className:"font-medium",children:new Date(s.created_at).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[e.jsxs(r,{variant:"outline",size:"sm",onClick:()=>B(s),className:"flex-1",children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Edit"]}),e.jsxs(r,{variant:"outline",size:"sm",children:[e.jsx(se,{className:"w-4 h-4 mr-2"}),"Copy"]}),e.jsx(r,{variant:"outline",size:"sm",children:e.jsx($,{className:"w-4 h-4"})})]})]})})]},s.id))}),e.jsx(y,{open:V,onOpenChange:o,children:e.jsxs(N,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(_,{children:[e.jsx(C,{children:a?`Edit Template: ${a.name}`:"Create New Template"}),e.jsx(b,{children:"Manage vehicle check questions and settings"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"template-name",children:"Template Name"}),e.jsx(q,{id:"template-name",defaultValue:(a==null?void 0:a.name)||"",placeholder:"Enter template name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"template-status",children:"Status"}),e.jsxs(u,{defaultValue:a!=null&&a.is_active?"active":"inactive",children:[e.jsx(j,{children:e.jsx(p,{})}),e.jsxs(g,{children:[e.jsx(i,{value:"active",children:"Active"}),e.jsx(i,{value:"inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"template-description",children:"Description"}),e.jsx(w,{id:"template-description",defaultValue:(a==null?void 0:a.description)||"",placeholder:"Enter template description",rows:3})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Questions"}),e.jsxs(r,{onClick:z,size:"sm",children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"Add Question"]})]}),e.jsxs(K,{children:[e.jsx(X,{children:e.jsxs(T,{children:[e.jsx(n,{children:"Order"}),e.jsx(n,{children:"Question"}),e.jsx(n,{children:"Type"}),e.jsx(n,{children:"Category"}),e.jsx(n,{children:"Required"}),e.jsx(n,{children:"Critical"}),e.jsx(n,{className:"text-right",children:"Actions"})]})}),e.jsx(ee,{children:f.map(s=>e.jsxs(T,{children:[e.jsx(c,{className:"font-medium",children:s.order_index}),e.jsx(c,{className:"max-w-xs truncate",children:s.question_text}),e.jsx(c,{children:M(s.question_type)}),e.jsx(c,{children:R(s.category)}),e.jsx(c,{children:s.is_required?e.jsx(te,{className:"w-4 h-4 text-green-600"}):e.jsx("span",{className:"text-muted-foreground",children:"No"})}),e.jsx(c,{children:s.is_critical?e.jsx(J,{className:"w-4 h-4 text-red-600"}):e.jsx("span",{className:"text-muted-foreground",children:"No"})}),e.jsx(c,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>H(s),children:e.jsx(D,{className:"w-4 h-4"})}),e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>O(s.id),children:e.jsx(ie,{className:"w-4 h-4"})})]})})]},s.id))})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4",children:[e.jsx(r,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),e.jsx(r,{children:a?"Update Template":"Create Template"})]})]})]})}),e.jsx(y,{open:F,onOpenChange:x,children:e.jsxs(N,{className:"max-w-2xl",children:[e.jsxs(_,{children:[e.jsx(C,{children:t?"Edit Question":"Add New Question"}),e.jsx(b,{children:"Configure the question details and settings"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"question-text",children:"Question Text"}),e.jsx(w,{id:"question-text",defaultValue:(t==null?void 0:t.question_text)||"",placeholder:"Enter the question text",rows:3})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"question-type",children:"Question Type"}),e.jsxs(u,{defaultValue:(t==null?void 0:t.question_type)||"yes_no",children:[e.jsx(j,{children:e.jsx(p,{})}),e.jsxs(g,{children:[e.jsx(i,{value:"yes_no",children:"Yes/No"}),e.jsx(i,{value:"multiple_choice",children:"Multiple Choice"}),e.jsx(i,{value:"text",children:"Text Input"}),e.jsx(i,{value:"number",children:"Number Input"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"question-category",children:"Category"}),e.jsxs(u,{defaultValue:(t==null?void 0:t.category)||"general",children:[e.jsx(j,{children:e.jsx(p,{})}),e.jsxs(g,{children:[e.jsx(i,{value:"exterior",children:"Exterior"}),e.jsx(i,{value:"interior",children:"Interior"}),e.jsx(i,{value:"engine",children:"Engine"}),e.jsx(i,{value:"safety",children:"Safety"}),e.jsx(i,{value:"documentation",children:"Documentation"}),e.jsx(i,{value:"driver",children:"Driver"}),e.jsx(i,{value:"general",children:"General"})]})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"question-order",children:"Order"}),e.jsx(q,{id:"question-order",type:"number",defaultValue:(t==null?void 0:t.order_index)||1,min:1})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-6",children:[e.jsx("input",{type:"checkbox",id:"question-required",defaultChecked:(t==null?void 0:t.is_required)||!1,className:"rounded"}),e.jsx(l,{htmlFor:"question-required",children:"Required"})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-6",children:[e.jsx("input",{type:"checkbox",id:"question-critical",defaultChecked:(t==null?void 0:t.is_critical)||!1,className:"rounded"}),e.jsx(l,{htmlFor:"question-critical",children:"Critical (Fails check if No)"})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-4",children:[e.jsx(r,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),e.jsx(r,{children:t?"Update Question":"Add Question"})]})]})]})})]})};export{je as default};
