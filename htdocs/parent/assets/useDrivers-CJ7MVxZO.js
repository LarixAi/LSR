import{u as i}from"./useQuery-Dbdyc74j.js";import{q as a,s as n}from"./main-piTIAPSx.js";const g=()=>{const{user:s,profile:r}=a();return i({queryKey:["drivers",r==null?void 0:r.organization_id],queryFn:async()=>{if(!(r!=null&&r.organization_id))throw console.log("No organization ID available"),new Error("Organization ID is required");console.log("ðŸš— Fetching drivers for organization:",r.organization_id);const{data:e,error:o}=await n.from("profiles").select("*").eq("organization_id",r.organization_id).eq("role","driver").order("created_at",{ascending:!1});if(console.log("âœ… Drivers query result:",{data:e,error:o}),o)throw console.error("Error fetching drivers:",o),o;return console.log("Fetched drivers:",e),e||[]},enabled:!!(r!=null&&r.organization_id)})};export{g as u};
